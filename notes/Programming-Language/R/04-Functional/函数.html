<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />


<meta name="author" content="Humoon" />

<meta name="date" content="2022-03-31" />

<title>函数</title>

<script src="libs/header-attrs-2.13/header-attrs.js"></script>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="libs/bootstrap-3.3.5/css/united.min.css" rel="stylesheet" />
<script src="libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<style>h1 {font-size: 34px;}
       h1.title {font-size: 38px;}
       h2 {font-size: 30px;}
       h3 {font-size: 24px;}
       h4 {font-size: 18px;}
       h5 {font-size: 16px;}
       h6 {font-size: 12px;}
       code {color: inherit; background-color: rgba(0, 0, 0, 0.04);}
       pre:not([class]) { background-color: white }</style>
<script src="libs/jqueryui-1.11.4/jquery-ui.min.js"></script>
<link href="libs/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="libs/tocify-1.9.1/jquery.tocify.js"></script>
<script src="libs/navigation-1.1/tabsets.js"></script>
<script src="libs/navigation-1.1/codefolding.js"></script>
<script src="libs/navigation-1.1/sourceembed.js"></script>

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>



<style type="text/css">
  code {
    white-space: pre;
  }
  .sourceCode {
    overflow: visible;
  }
</style>
<style type="text/css" data-origin="pandoc">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; } /* Alert */
code span.an { color: #008000; } /* Annotation */
code span.at { } /* Attribute */
code span.bu { } /* BuiltIn */
code span.cf { color: #0000ff; } /* ControlFlow */
code span.ch { color: #008080; } /* Char */
code span.cn { } /* Constant */
code span.co { color: #008000; } /* Comment */
code span.cv { color: #008000; } /* CommentVar */
code span.do { color: #008000; } /* Documentation */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.im { } /* Import */
code span.in { color: #008000; } /* Information */
code span.kw { color: #0000ff; } /* Keyword */
code span.op { } /* Operator */
code span.ot { color: #ff4000; } /* Other */
code span.pp { color: #ff4000; } /* Preprocessor */
code span.sc { color: #008080; } /* SpecialChar */
code span.ss { color: #008080; } /* SpecialString */
code span.st { color: #008080; } /* String */
code span.va { } /* Variable */
code span.vs { color: #008080; } /* VerbatimString */
code span.wa { color: #008000; font-weight: bold; } /* Warning */

.sourceCode .row {
  width: 100%;
}
.sourceCode {
  overflow-x: auto;
}
.code-folding-btn {
  margin-right: -30px;
}
</style>
<script>
// apply pandoc div.sourceCode style to pre.sourceCode instead
(function() {
  var sheets = document.styleSheets;
  for (var i = 0; i < sheets.length; i++) {
    if (sheets[i].ownerNode.dataset["origin"] !== "pandoc") continue;
    try { var rules = sheets[i].cssRules; } catch (e) { continue; }
    for (var j = 0; j < rules.length; j++) {
      var rule = rules[j];
      // check if there is a div.sourceCode rule
      if (rule.type !== rule.STYLE_RULE || rule.selectorText !== "div.sourceCode") continue;
      var style = rule.style.cssText;
      // check if color or background-color is set
      if (rule.style.color === '' && rule.style.backgroundColor === '') continue;
      // replace div.sourceCode by a pre.sourceCode rule
      sheets[i].deleteRule(j);
      sheets[i].insertRule('pre.sourceCode{' + style + '}', j);
    }
  }
})();
</script>


<style type="text/css">
#rmd-source-code {
  display: none;
}
</style>


<link rel="stylesheet" href="../css/style.css" type="text/css" />



<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
details > summary > p:only-child {
  display: inline;
}
pre code {
  padding: 0;
}
</style>



<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "&#xe258;";
  border: none;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->
<style type="text/css">
.code-folding-btn { margin-bottom: 4px; }
</style>



<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}

@media print {
.toc-content {
  /* see https://github.com/w3c/csswg-drafts/issues/4434 */
  float: right;
}
}

.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.90em;
}

.tocify .list-group-item {
  border-radius: 0px;
}


</style>



</head>

<body>


<div class="container-fluid main-container">


<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">




<div id="header">

<div class="btn-group pull-right float-right">
<button type="button" class="btn btn-default btn-xs btn-secondary btn-sm dropdown-toggle" data-toggle="dropdown" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><span>Code</span> <span class="caret"></span></button>
<ul class="dropdown-menu dropdown-menu-right" style="min-width: 50px;">
<li><a id="rmd-show-all-code" href="#">Show All Code</a></li>
<li><a id="rmd-hide-all-code" href="#">Hide All Code</a></li>
<li role="separator" class="divider"></li>
<li><a id="rmd-download-source" href="#">Download Rmd</a></li>
</ul>
</div>



<h1 class="title toc-ignore">函数</h1>
<h4 class="author">Humoon</h4>
<h4 class="date">2022-03-31</h4>

</div>


<div id="function" class="section level2">
<h2>Function</h2>
<div id="函数皆对象" class="section level3">
<h3>函数皆对象</h3>
<p>R 中所有的函数都是对象，自定义函数都是一个赋值为对象的过程。</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>add <span class="ot">&lt;-</span> <span class="cf">function</span>(a, b) {</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>  a <span class="sc">+</span> b</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>add <span class="sc">%&gt;%</span> <span class="fu">class</span>()</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] &quot;function&quot;</span></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a><span class="co"># 查看函数</span></span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a>add</span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; function(a, b) {</span></span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   a + b</span></span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; }</span></span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a><span class="co"># 调用函数</span></span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a><span class="fu">add</span>(<span class="dv">1</span>, <span class="dv">3</span>)</span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 4</span></span></code></pre></div>
</div>
<div id="操作符皆函数" class="section level3">
<h3>操作符皆函数</h3>
<table>
<thead>
<tr class="header">
<th><code>magrittr::</code> 等价函数</th>
<th>操作符<a href="#fn1" class="footnote-ref" id="fnref1"><sup>1</sup></a></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>extract(x, index or 'col_name')</code></td>
<td><code>[</code>，即<code>[</code>(x, index/‘col_name’)</td>
</tr>
<tr class="even">
<td><code>extract2(x, index or 'col_name')</code></td>
<td><code>[[</code>，即<code>[[</code>(x, index’col_name’)</td>
</tr>
<tr class="odd">
<td><code>inset()</code></td>
<td><code>[&lt;-</code></td>
</tr>
<tr class="even">
<td><code>inset2()</code></td>
<td><code>[[&lt;-</code></td>
</tr>
<tr class="odd">
<td><code>set_colnames()</code></td>
<td><code>colnames()&lt;-</code></td>
</tr>
<tr class="even">
<td><code>set_rownames()</code></td>
<td><code>rownames()&lt;-</code></td>
</tr>
<tr class="odd">
<td><code>magrittr::use_series()</code>（可用于list）, <code>dplyr::pull()</code>（不适用于list）</td>
<td><code>$</code></td>
</tr>
<tr class="even">
<td>add</td>
<td><code>+</code></td>
</tr>
<tr class="odd">
<td>subtract</td>
<td><code>-</code></td>
</tr>
<tr class="even">
<td>multiply_by</td>
<td><code>*</code></td>
</tr>
<tr class="odd">
<td>raise_to_power</td>
<td><code>^</code></td>
</tr>
<tr class="even">
<td>multiply_by_matrix</td>
<td><code>%*%</code></td>
</tr>
<tr class="odd">
<td>divide_by</td>
<td><code>/</code></td>
</tr>
<tr class="even">
<td>divide_by_int</td>
<td><code>%/%</code></td>
</tr>
<tr class="odd">
<td>mod</td>
<td><code>%%</code></td>
</tr>
<tr class="even">
<td><code>is_in()</code></td>
<td><code>%in%</code></td>
</tr>
<tr class="odd">
<td>and</td>
<td><code>&amp;</code></td>
</tr>
<tr class="even">
<td>or</td>
<td><code>|</code></td>
</tr>
<tr class="odd">
<td>equals</td>
<td><code>==</code></td>
</tr>
<tr class="even">
<td>is_greater_than</td>
<td><code>&gt;</code></td>
</tr>
<tr class="odd">
<td>is_weakly_greater_than</td>
<td><code>&gt;=</code></td>
</tr>
<tr class="even">
<td>is_less_than</td>
<td><code>&lt;</code></td>
</tr>
<tr class="odd">
<td>is_weakly_less_than</td>
<td><code>&lt;=</code></td>
</tr>
<tr class="even">
<td>not</td>
<td><code>!</code></td>
</tr>
<tr class="odd">
<td><code>set_names()</code></td>
<td><code>names()&lt;-</code></td>
</tr>
</tbody>
</table>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(iris)</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   Sepal.Length Sepal.Width Petal.Length Petal.Width Species</span></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1          5.1         3.5          1.4         0.2  setosa</span></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 2          4.9         3.0          1.4         0.2  setosa</span></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 3          4.7         3.2          1.3         0.2  setosa</span></span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 4          4.6         3.1          1.5         0.2  setosa</span></span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 5          5.0         3.6          1.4         0.2  setosa</span></span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 6          5.4         3.9          1.7         0.4  setosa</span></span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a><span class="st">`</span><span class="at">[</span><span class="st">`</span>(<span class="fu">head</span>(iris), <span class="dv">2</span>) <span class="co"># 数据框的本质是各列向量组成的list，筛选第二个元素，还是一个list</span></span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   Sepal.Width</span></span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1         3.5</span></span>
<span id="cb2-12"><a href="#cb2-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 2         3.0</span></span>
<span id="cb2-13"><a href="#cb2-13" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 3         3.2</span></span>
<span id="cb2-14"><a href="#cb2-14" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 4         3.1</span></span>
<span id="cb2-15"><a href="#cb2-15" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 5         3.6</span></span>
<span id="cb2-16"><a href="#cb2-16" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 6         3.9</span></span>
<span id="cb2-17"><a href="#cb2-17" aria-hidden="true" tabindex="-1"></a><span class="st">`</span><span class="at">[[</span><span class="st">`</span>(<span class="fu">head</span>(iris), <span class="dv">2</span>) <span class="co"># 提取第二个元素，是一个vector</span></span>
<span id="cb2-18"><a href="#cb2-18" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 3.5 3.0 3.2 3.1 3.6 3.9</span></span>
<span id="cb2-19"><a href="#cb2-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-20"><a href="#cb2-20" aria-hidden="true" tabindex="-1"></a>a <span class="ot">&lt;-</span> <span class="dv">2</span><span class="sc">:</span><span class="dv">4</span></span>
<span id="cb2-21"><a href="#cb2-21" aria-hidden="true" tabindex="-1"></a><span class="st">`</span><span class="at">[&lt;-</span><span class="st">`</span>(a, <span class="dv">2</span>, <span class="dv">10</span>) <span class="co"># a[2] &lt;- 10; a</span></span>
<span id="cb2-22"><a href="#cb2-22" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1]  2 10  4</span></span></code></pre></div>
<div id="常用操作符" class="section level4">
<h4>常用操作符</h4>
<div id="四则运算" class="section level5">
<h5>四则运算</h5>
<p>加、减、乘(<code>*</code>)、除(<code>/</code>)、幂<code>^</code>, 除法取整（<code>%/%</code>）、除法取余（<code>%%</code>）</p>
</div>
</div>
<div id="自定义二元运算符" class="section level4">
<h4>自定义二元运算符</h4>
<p>必须用反引号和百分号引起来</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="st">`</span><span class="at">%myop%</span><span class="st">`</span> <span class="ot">&lt;-</span> <span class="cf">function</span>(a, b) {</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>  <span class="dv">2</span> <span class="sc">*</span> a <span class="sc">+</span> <span class="dv">3</span> <span class="sc">*</span> b</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span> <span class="sc">%myop%</span> <span class="dv">1</span></span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 5</span></span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span> <span class="sc">%myop%</span> <span class="dv">2</span></span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 8</span></span></code></pre></div>
</div>
</div>
<div id="匿名函数" class="section level3">
<h3>匿名函数</h3>
<p>为了节省变量名，很多时候可以使用匿名函数。</p>
<p>匿名函数有几种写法，以 <code>purrr::map2()</code> 中为例：</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 写法1，关键字 function 不缺，只省略了函数名的定义</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a><span class="fu">map2_dbl</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>, <span class="dv">11</span><span class="sc">:</span><span class="dv">20</span>, <span class="cf">function</span>(x, y) y <span class="sc">-</span> x)</span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [1] 10 10 10 10 10 10 10 10 10 10</span></span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a><span class="co"># 写法2，将关键字 function 简写为\</span></span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a><span class="fu">map2_dbl</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>, <span class="dv">11</span><span class="sc">:</span><span class="dv">20</span>, \(x, y) y <span class="sc">-</span> x)</span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [1] 10 10 10 10 10 10 10 10 10 10</span></span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a><span class="co"># 写法3，用~代表匿名函数，.x(或.), .y代表自变量</span></span>
<span id="cb4-10"><a href="#cb4-10" aria-hidden="true" tabindex="-1"></a><span class="fu">map2_dbl</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>, <span class="dv">11</span><span class="sc">:</span><span class="dv">20</span>, <span class="sc">~</span> .y <span class="sc">-</span> .x)</span>
<span id="cb4-11"><a href="#cb4-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [1] 10 10 10 10 10 10 10 10 10 10</span></span>
<span id="cb4-12"><a href="#cb4-12" aria-hidden="true" tabindex="-1"></a><span class="fu">map2_dbl</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>, <span class="dv">11</span><span class="sc">:</span><span class="dv">20</span>, <span class="sc">~</span> .y <span class="sc">-</span> .)</span>
<span id="cb4-13"><a href="#cb4-13" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [1] 10 10 10 10 10 10 10 10 10 10</span></span></code></pre></div>
<p><strong>不建议使用 <code>~ .x</code> 的写法</strong>，因为这种写法有两个缺陷：</p>
<ol style="list-style-type: decimal">
<li>匿名函数最多有两个自变量，<code>.z</code>是不被认可的</li>
<li>配合动态参数<code>...</code>一起使用时，<strong>存在bug</strong>，<code>...</code>会连写明的<code>.x</code>一起捕获</li>
</ol>
</div>
<div id="参数" class="section level3">
<h3>参数</h3>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="fu">add</span>(<span class="fu">as.Date</span>(<span class="st">&quot;2020-02-02&quot;</span>), <span class="dv">2</span>)</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] &quot;2020-02-04&quot;</span></span></code></pre></div>
<div id="参数无定义" class="section level4">
<h4>参数无定义</h4>
<p>若函数的某个参数没有传递值，<code>missing(parameter)</code> 返回 TRUE</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>myplot <span class="ot">&lt;-</span> <span class="cf">function</span>(x, y) {</span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (<span class="fu">missing</span>(y)) {</span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>    y <span class="ot">&lt;-</span> x</span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a>    x <span class="ot">&lt;-</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">length</span>(y)</span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">plot</span>(x, y)</span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb6-8"><a href="#cb6-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-9"><a href="#cb6-9" aria-hidden="true" tabindex="-1"></a><span class="fu">myplot</span>(<span class="fu">c</span>(<span class="dv">6</span>, <span class="dv">7</span>, <span class="dv">8</span>))</span></code></pre></div>
<p><img src="figure/unnamed-chunk-6-1.png" width="70%" style="display: block; margin: auto;" /></p>
</div>
<div id="参数默认值" class="section level4">
<h4>参数默认值</h4>
<p>默认值可以是一个值，也可以是一个表达式，其中包含了其前面定义的其他参数</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>m <span class="ot">&lt;-</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">5</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>test3 <span class="ot">&lt;-</span> <span class="cf">function</span>(x, <span class="at">n =</span> <span class="fu">floor</span>(<span class="fu">length</span>(m) <span class="sc">/</span> <span class="dv">2</span>)) {</span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>  x[<span class="dv">1</span><span class="sc">:</span>n]</span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a><span class="fu">test3</span>(letters)</span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] &quot;a&quot; &quot;b&quot;</span></span></code></pre></div>
</div>
<div id="动态参数" class="section level4">
<h4>动态参数</h4>
<p><code>...</code>能捕获任意数量的未匹配参数</p>
<div id="用法一由一般函数特化而来的特殊函数" class="section level5">
<h5>用法一：由一般函数特化而来的特殊函数</h5>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 最具一般性的函数，参数最完整，包含大量默认值</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>f <span class="ot">&lt;-</span> <span class="cf">function</span>(x, t, <span class="at">u =</span> <span class="dv">0</span>, <span class="at">v =</span> <span class="dv">0</span>) {</span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (t <span class="sc">==</span> <span class="dv">1</span>) {</span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">return</span>(x <span class="sc">+</span> u <span class="sc">+</span> v)</span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (t <span class="sc">==</span> <span class="dv">2</span>) {</span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">return</span>(x<span class="sc">^</span><span class="dv">2</span> <span class="sc">+</span> u <span class="sc">+</span> v)</span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb8-9"><a href="#cb8-9" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb8-10"><a href="#cb8-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-11"><a href="#cb8-11" aria-hidden="true" tabindex="-1"></a><span class="fu">f</span>(<span class="dv">5</span>, <span class="dv">1</span>, <span class="dv">3</span>, <span class="dv">2</span>)</span>
<span id="cb8-12"><a href="#cb8-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 10</span></span>
<span id="cb8-13"><a href="#cb8-13" aria-hidden="true" tabindex="-1"></a><span class="fu">f</span>(<span class="dv">5</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">2</span>)</span>
<span id="cb8-14"><a href="#cb8-14" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 30</span></span>
<span id="cb8-15"><a href="#cb8-15" aria-hidden="true" tabindex="-1"></a><span class="fu">f</span>(<span class="dv">5</span>, <span class="dv">1</span>)</span>
<span id="cb8-16"><a href="#cb8-16" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 5</span></span>
<span id="cb8-17"><a href="#cb8-17" aria-hidden="true" tabindex="-1"></a><span class="fu">f</span>(<span class="dv">5</span>, <span class="dv">2</span>)</span>
<span id="cb8-18"><a href="#cb8-18" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 25</span></span>
<span id="cb8-19"><a href="#cb8-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-20"><a href="#cb8-20" aria-hidden="true" tabindex="-1"></a><span class="co"># 通过对一部分参数（t）的特化，实现一般基础上的特殊函数</span></span>
<span id="cb8-21"><a href="#cb8-21" aria-hidden="true" tabindex="-1"></a><span class="co"># 为了简便，可以省略大量已有默认值的参数</span></span>
<span id="cb8-22"><a href="#cb8-22" aria-hidden="true" tabindex="-1"></a>g <span class="ot">&lt;-</span> <span class="cf">function</span>(x, ...) {</span>
<span id="cb8-23"><a href="#cb8-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">f</span>(x, <span class="dv">1</span>, ...)</span>
<span id="cb8-24"><a href="#cb8-24" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb8-25"><a href="#cb8-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-26"><a href="#cb8-26" aria-hidden="true" tabindex="-1"></a>h <span class="ot">&lt;-</span> <span class="cf">function</span>(x, ...) {</span>
<span id="cb8-27"><a href="#cb8-27" aria-hidden="true" tabindex="-1"></a>  <span class="fu">f</span>(x, <span class="dv">2</span>, ...)</span>
<span id="cb8-28"><a href="#cb8-28" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb8-29"><a href="#cb8-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-30"><a href="#cb8-30" aria-hidden="true" tabindex="-1"></a><span class="fu">g</span>(<span class="dv">5</span>, <span class="dv">3</span>, <span class="dv">2</span>)</span>
<span id="cb8-31"><a href="#cb8-31" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 10</span></span>
<span id="cb8-32"><a href="#cb8-32" aria-hidden="true" tabindex="-1"></a><span class="fu">h</span>(<span class="dv">5</span>, <span class="dv">3</span>, <span class="dv">2</span>)</span>
<span id="cb8-33"><a href="#cb8-33" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 30</span></span>
<span id="cb8-34"><a href="#cb8-34" aria-hidden="true" tabindex="-1"></a><span class="fu">g</span>(<span class="dv">5</span>)</span>
<span id="cb8-35"><a href="#cb8-35" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 5</span></span>
<span id="cb8-36"><a href="#cb8-36" aria-hidden="true" tabindex="-1"></a><span class="fu">h</span>(<span class="dv">5</span>)</span>
<span id="cb8-37"><a href="#cb8-37" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 25</span></span></code></pre></div>
</div>
<div id="用法二捕获未知个数的参数" class="section level5">
<h5>用法二：捕获未知个数的参数</h5>
<p>在函数内部，可以直接用<code>str_c()</code>将<code>...</code>合并为字符串（长度为1）</p>
<p>但也可以用<code>list(...)</code>将其转化为列表（长度一般大于1）再处理</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 合并为字符串</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>rule <span class="ot">&lt;-</span> <span class="cf">function</span>(..., <span class="at">pad =</span> <span class="st">&quot;=&quot;</span>) {</span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(<span class="fu">str_c</span>(..., <span class="at">sep =</span> <span class="st">&quot; &quot;</span>))</span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(<span class="fu">length</span>(<span class="fu">str_c</span>(..., <span class="at">sep =</span> <span class="st">&quot; &quot;</span>)))</span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a>  args <span class="ot">&lt;-</span> <span class="fu">list</span>(...)</span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(args)</span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(<span class="fu">length</span>(args))</span>
<span id="cb9-8"><a href="#cb9-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(<span class="fu">str_c</span>(args, <span class="at">sep =</span> <span class="st">&quot; &quot;</span>))</span>
<span id="cb9-9"><a href="#cb9-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(<span class="fu">length</span>(<span class="fu">str_c</span>(args, <span class="at">sep =</span> <span class="st">&quot; &quot;</span>)))</span>
<span id="cb9-10"><a href="#cb9-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-11"><a href="#cb9-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-12"><a href="#cb9-12" aria-hidden="true" tabindex="-1"></a>  title <span class="ot">&lt;-</span> <span class="fu">str_c</span>(..., <span class="at">sep =</span> <span class="st">&quot; &quot;</span>)</span>
<span id="cb9-13"><a href="#cb9-13" aria-hidden="true" tabindex="-1"></a>  width <span class="ot">&lt;-</span> <span class="fu">getOption</span>(<span class="st">&quot;width&quot;</span>) <span class="sc">-</span> <span class="fu">nchar</span>(title) <span class="sc">-</span> <span class="dv">5</span></span>
<span id="cb9-14"><a href="#cb9-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">cat</span>(title, <span class="st">&quot; &quot;</span>, stringr<span class="sc">::</span><span class="fu">str_dup</span>(pad, width), <span class="st">&quot;</span><span class="sc">\n</span><span class="st">&quot;</span>)</span>
<span id="cb9-15"><a href="#cb9-15" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb9-16"><a href="#cb9-16" aria-hidden="true" tabindex="-1"></a><span class="fu">rule</span>(<span class="st">&quot;Important&quot;</span>, <span class="st">&quot;output&quot;</span>)</span>
<span id="cb9-17"><a href="#cb9-17" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] &quot;Important output&quot;</span></span>
<span id="cb9-18"><a href="#cb9-18" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 1</span></span>
<span id="cb9-19"><a href="#cb9-19" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [[1]]</span></span>
<span id="cb9-20"><a href="#cb9-20" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] &quot;Important&quot;</span></span>
<span id="cb9-21"><a href="#cb9-21" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb9-22"><a href="#cb9-22" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [[2]]</span></span>
<span id="cb9-23"><a href="#cb9-23" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] &quot;output&quot;</span></span>
<span id="cb9-24"><a href="#cb9-24" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb9-25"><a href="#cb9-25" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 2</span></span>
<span id="cb9-26"><a href="#cb9-26" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] &quot;Important&quot; &quot;output&quot;   </span></span>
<span id="cb9-27"><a href="#cb9-27" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 2</span></span>
<span id="cb9-28"><a href="#cb9-28" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Important output   ===========================================================</span></span>
<span id="cb9-29"><a href="#cb9-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-30"><a href="#cb9-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-31"><a href="#cb9-31" aria-hidden="true" tabindex="-1"></a><span class="co"># 读取为list</span></span>
<span id="cb9-32"><a href="#cb9-32" aria-hidden="true" tabindex="-1"></a>multip <span class="ot">&lt;-</span> <span class="cf">function</span>(x, ...) {</span>
<span id="cb9-33"><a href="#cb9-33" aria-hidden="true" tabindex="-1"></a>  args <span class="ot">&lt;-</span> <span class="fu">list</span>(...) <span class="do">## 获取所有参数</span></span>
<span id="cb9-34"><a href="#cb9-34" aria-hidden="true" tabindex="-1"></a>  x <span class="sc">+</span> args[[<span class="dv">1</span>]] <span class="sc">-</span> args[[<span class="dv">2</span>]]</span>
<span id="cb9-35"><a href="#cb9-35" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb9-36"><a href="#cb9-36" aria-hidden="true" tabindex="-1"></a><span class="fu">multip</span>(<span class="dv">3</span>, <span class="dv">2</span>, <span class="dv">3</span>)</span>
<span id="cb9-37"><a href="#cb9-37" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 2</span></span></code></pre></div>
</div>
</div>
<div id="惰性求值" class="section level4">
<h4>惰性求值</h4>
<p>在函数调用时，参数的值只有被实际用到时才会被执行。这样可以避免不必要的计算，节省时间。</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>test0 <span class="ot">&lt;-</span> <span class="cf">function</span>(x, y) {</span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (x <span class="sc">&gt;</span> <span class="dv">0</span>) {</span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>    x</span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a>  } <span class="cf">else</span> {</span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a>    y</span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb10-8"><a href="#cb10-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-9"><a href="#cb10-9" aria-hidden="true" tabindex="-1"></a><span class="co"># 生成大量随机数的耗时</span></span>
<span id="cb10-10"><a href="#cb10-10" aria-hidden="true" tabindex="-1"></a><span class="fu">system.time</span>(<span class="fu">rnorm</span>(<span class="dv">10000000</span>))</span>
<span id="cb10-11"><a href="#cb10-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 用户 系统 流逝 </span></span>
<span id="cb10-12"><a href="#cb10-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 0.57 0.02 0.58</span></span>
<span id="cb10-13"><a href="#cb10-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-14"><a href="#cb10-14" aria-hidden="true" tabindex="-1"></a><span class="co"># 惰性求值，第二个参数并未执行</span></span>
<span id="cb10-15"><a href="#cb10-15" aria-hidden="true" tabindex="-1"></a><span class="fu">system.time</span>(<span class="fu">test0</span>(<span class="dv">1</span>, <span class="fu">rnorm</span>(<span class="dv">10000000</span>)))</span>
<span id="cb10-16"><a href="#cb10-16" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 用户 系统 流逝 </span></span>
<span id="cb10-17"><a href="#cb10-17" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;    0    0    0</span></span></code></pre></div>
</div>
</div>
<div id="返回值" class="section level3">
<h3>返回值</h3>
<p>若无<code>return()</code>, 默认返回最后一个表达式的值</p>
<p><strong>R 风格的代码，通常省略 <code>return()</code></strong></p>
<p>希望返回多个值时，一般用 list 或 dataframe 封装（就像 js 中用对象封装）</p>
</div>
<div id="泛型函数" class="section level3">
<h3>泛型函数</h3>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>calc <span class="ot">&lt;-</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>  <span class="cf">function</span>(x, y, type) {</span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> (<span class="fu">length</span>(type <span class="sc">&gt;</span> 1L)) {</span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a>      <span class="fu">stop</span>(<span class="st">&quot; Only a single type is accepted&quot;</span>)</span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> (type <span class="sc">==</span> <span class="st">&quot;add&quot;</span>) {</span>
<span id="cb11-8"><a href="#cb11-8" aria-hidden="true" tabindex="-1"></a>      x <span class="sc">+</span> y</span>
<span id="cb11-9"><a href="#cb11-9" aria-hidden="true" tabindex="-1"></a>    } <span class="cf">else</span> <span class="cf">if</span> (type <span class="sc">==</span> <span class="st">&quot;minus&quot;</span>) {</span>
<span id="cb11-10"><a href="#cb11-10" aria-hidden="true" tabindex="-1"></a>      x <span class="sc">-</span> y</span>
<span id="cb11-11"><a href="#cb11-11" aria-hidden="true" tabindex="-1"></a>    } <span class="cf">else</span> <span class="cf">if</span> (type <span class="sc">==</span> <span class="st">&quot;multiply&quot;</span>) {</span>
<span id="cb11-12"><a href="#cb11-12" aria-hidden="true" tabindex="-1"></a>      x <span class="sc">*</span> y</span>
<span id="cb11-13"><a href="#cb11-13" aria-hidden="true" tabindex="-1"></a>    } <span class="cf">else</span> <span class="cf">if</span> (type <span class="sc">==</span> <span class="st">&quot;divide&quot;</span>) {</span>
<span id="cb11-14"><a href="#cb11-14" aria-hidden="true" tabindex="-1"></a>      x <span class="sc">/</span> y</span>
<span id="cb11-15"><a href="#cb11-15" aria-hidden="true" tabindex="-1"></a>    } <span class="cf">else</span> {</span>
<span id="cb11-16"><a href="#cb11-16" aria-hidden="true" tabindex="-1"></a>      <span class="fu">stop</span>(<span class="st">&quot; Unknown type of operation&quot;</span>)</span>
<span id="cb11-17"><a href="#cb11-17" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb11-18"><a href="#cb11-18" aria-hidden="true" tabindex="-1"></a>  }</span></code></pre></div>
</div>
</div>
<div class="footnotes">
<hr />
<ol>
<li id="fn1"><p>R 中的操作符其实都是函数，只不过是写法上特殊一点的无括号函数。所以在管道操作中，左边函数对右边运算符的替换并不是必须的，因为管道也可以和操作符直接配合，只不过都要用反引号将操作符括起来，显式指明这是一个函数。<a href="#fnref1" class="footnote-back">↩︎</a></p></li>
</ol>
</div>

<div id="rmd-source-code">LS0tDQp0aXRsZTogIuWHveaVsCINCnN1YnRpdGxlOiAnJw0KYXV0aG9yOiAiSHVtb29uIg0KZGF0ZTogImByIFN5cy5EYXRlKClgIg0Kb3V0cHV0Og0KICBodG1sX2RvY3VtZW50OiANCiAgICBjb2RlX2Rvd25sb2FkOiB0cnVlDQogICAgY3NzOiBbIi4uL2Nzcy9zdHlsZS5jc3MiXQ0KICAgIGZpZ19jYXB0aW9uOiB5ZXMNCiAgICB0aGVtZTogdW5pdGVkDQogICAgaGlnaGxpZ2h0OiBoYWRkb2NrDQogICAgbnVtYmVyX3NlY3Rpb25zOiBubw0KICAgIHRvYzogeWVzDQogICAgdG9jX2RlcHRoOiA0DQogICAgdG9jX2Zsb2F0Og0KICAgICAgY29sbGFwc2VkOiB5ZXMNCiAgICAgIHNtb290aF9zY3JvbGw6IHllcw0KZG9jdW1lbnRjbGFzczogY3RleGFydA0KY2xhc3NvcHRpb246IGh5cGVycmVmLA0KLS0tDQoNCmBgYHtyIHNldHVwLCBpbmNsdWRlID0gRkFMU0V9DQpzb3VyY2UoIi4uL1JtYXJrZG93bi10ZW1wbGF0ZS9SbWFya2Rvd25fY29uZmlnLlIiKQ0KDQojIyBnbG9iYWwgb3B0aW9ucyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQ0Ka25pdHI6Om9wdHNfY2h1bmskc2V0KA0KICB3aWR0aCA9IGNvbmZpZyR3aWR0aCwNCiAgZmlnLndpZHRoID0gY29uZmlnJGZpZy53aWR0aCwNCiAgZmlnLmFzcCA9IGNvbmZpZyRmaWcuYXNwLA0KICBvdXQud2lkdGggPSBjb25maWckb3V0LndpZHRoLA0KICBmaWcuYWxpZ24gPSBjb25maWckZmlnLmFsaWduLA0KICBmaWcucGF0aCA9IGNvbmZpZyRmaWcucGF0aCwNCiAgZmlnLnNob3cgPSBjb25maWckZmlnLnNob3csDQogIHdhcm4gPSBjb25maWckd2FybiwNCiAgd2FybmluZyA9IGNvbmZpZyR3YXJuaW5nLA0KICBtZXNzYWdlID0gY29uZmlnJG1lc3NhZ2UsDQogIGVjaG8gPSBjb25maWckZWNobywNCiAgZXZhbCA9IGNvbmZpZyRldmFsLA0KICB0aWR5ID0gY29uZmlnJHRpZHksDQogIGNvbW1lbnQgPSBjb25maWckY29tbWVudCwNCiAgY29sbGFwc2UgPSBjb25maWckY29sbGFwc2UsDQogIGNhY2hlID0gY29uZmlnJGNhY2hlLA0KICBjYWNoZS5jb21tZW50cyA9IGNvbmZpZyRjYWNoZS5jb21tZW50cywNCiAgYXV0b2RlcCA9IGNvbmZpZyRhdXRvZGVwDQopDQoNCiMjIHVzZSBuZWNlc3NhcnkgcGFja2FnZXMgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09DQpsaWJyYXJ5KHRpZHl2ZXJzZSkNCmxpYnJhcnkoZGF0YS50YWJsZSkNCmxpYnJhcnkobWFncml0dHIpDQpsaWJyYXJ5KHBsb3RseSkNCmxpYnJhcnkoaHRtbHdpZGdldHMpDQpgYGANCg0KIyMgRnVuY3Rpb24NCg0KIyMjIOWHveaVsOeahuWvueixoQ0KDQpSIOS4reaJgOacieeahOWHveaVsOmDveaYr+Wvueixoe+8jOiHquWumuS5ieWHveaVsOmDveaYr+S4gOS4qui1i+WAvOS4uuWvueixoeeahOi/h+eoi+OAgg0KDQpgYGB7cn0NCmFkZCA8LSBmdW5jdGlvbihhLCBiKSB7DQogIGEgKyBiDQp9DQphZGQgJT4lIGNsYXNzKCkNCg0KIyDmn6XnnIvlh73mlbANCmFkZA0KDQojIOiwg+eUqOWHveaVsA0KYWRkKDEsIDMpDQpgYGANCg0KIyMjIOaTjeS9nOespueahuWHveaVsA0KDQoNCnwgYG1hZ3JpdHRyOjpgIOetieS7t+WHveaVsCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwg5pON5L2c56ymW14yXSAgICAgICAgICAgICAgICAgICAgIHwNCnwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tfC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS18DQp8IGBleHRyYWN0KHgsIGluZGV4IG9yICdjb2xfbmFtZScpYCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgYFtg77yM5Y2zYFtgKHgsIGluZGV4Lydjb2xfbmFtZScpICB8DQp8IGBleHRyYWN0Mih4LCBpbmRleCBvciAnY29sX25hbWUnKWAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgYFtbYO+8jOWNs2BbW2AoeCwgaW5kZXgnY29sX25hbWUnKSB8DQp8IGBpbnNldCgpYCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgYFs8LWAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfA0KfCBgaW5zZXQyKClgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8IGBbWzwtYCAgICAgICAgICAgICAgICAgICAgICAgICAgIHwNCnwgYHNldF9jb2xuYW1lcygpYCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCBgY29sbmFtZXMoKTwtYCAgICAgICAgICAgICAgICAgICB8DQp8IGBzZXRfcm93bmFtZXMoKWAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgYHJvd25hbWVzKCk8LWAgICAgICAgICAgICAgICAgICAgfA0KfCBgbWFncml0dHI6OnVzZV9zZXJpZXMoKWDvvIjlj6/nlKjkuo5saXN077yJLCBgZHBseXI6OnB1bGwoKWDvvIjkuI3pgILnlKjkuo5saXN077yJIHwgYCRgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfA0KfCBhZGQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8IGArYCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwNCnwgc3VidHJhY3QgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCBgLWAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8DQp8IG11bHRpcGx5X2J5ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgYCpgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfA0KfCByYWlzZV90b19wb3dlciAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8IGBeYCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwNCnwgbXVsdGlwbHlfYnlfbWF0cml4ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCBgJSolYCAgICAgICAgICAgICAgICAgICAgICAgICAgICB8DQp8IGRpdmlkZV9ieSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgYC9gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfA0KfCBkaXZpZGVfYnlfaW50ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8IGAlLyVgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwNCnwgbW9kICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCBgJSVgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8DQp8IGBpc19pbigpYCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgYCVpbiVgICAgICAgICAgICAgICAgICAgICAgICAgICAgfA0KfCBhbmQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8IGAmYCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwNCnwgb3IgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCBgfGAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8DQp8IGVxdWFscyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgYD09YCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfA0KfCBpc19ncmVhdGVyX3RoYW4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8IGA+YCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwNCnwgaXNfd2Vha2x5X2dyZWF0ZXJfdGhhbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCBgPj1gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8DQp8IGlzX2xlc3NfdGhhbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgYDxgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfA0KfCBpc193ZWFrbHlfbGVzc190aGFuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8IGA8PWAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwNCnwgbm90ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCBgIWAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8DQp8IGBzZXRfbmFtZXMoKWAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgYG5hbWVzKCk8LWAgICAgICAgICAgICAgICAgICAgICAgfA0KDQpbXjJdOiBSIOS4reeahOaTjeS9nOespuWFtuWunumDveaYr+WHveaVsO+8jOWPquS4jei/h+aYr+WGmeazleS4iueJueauiuS4gOeCueeahOaXoOaLrOWPt+WHveaVsOOAguaJgOS7peWcqOeuoemBk+aTjeS9nOS4re+8jOW3pui+ueWHveaVsOWvueWPs+i+uei/kOeul+espueahOabv+aNouW5tuS4jeaYr+W/hemhu+eahO+8jOWboOS4uueuoemBk+S5n+WPr+S7peWSjOaTjeS9nOespuebtOaOpemFjeWQiO+8jOWPquS4jei/h+mDveimgeeUqOWPjeW8leWPt+WwhuaTjeS9nOespuaLrOi1t+adpe+8jOaYvuW8j+aMh+aYjui/meaYr+S4gOS4quWHveaVsOOAgg0KDQoNCg0KYGBge3J9DQpoZWFkKGlyaXMpDQpgW2AoaGVhZChpcmlzKSwgMikgIyDmlbDmja7moYbnmoTmnKzotKjmmK/lkITliJflkJHph4/nu4TmiJDnmoRsaXN077yM562b6YCJ56ys5LqM5Liq5YWD57Sg77yM6L+Y5piv5LiA5LiqbGlzdA0KYFtbYChoZWFkKGlyaXMpLCAyKSAjIOaPkOWPluesrOS6jOS4quWFg+e0oO+8jOaYr+S4gOS4qnZlY3Rvcg0KDQphIDwtIDI6NA0KYFs8LWAoYSwgMiwgMTApICMgYVsyXSA8LSAxMDsgYQ0KYGBgDQoNCiMjIyMg5bi455So5pON5L2c56ymDQoNCiMjIyMjIOWbm+WImei/kOeulw0KDQrliqDjgIHlh4/jgIHkuZgoYCpgKeOAgemZpChgL2Ap44CB5bmCYF5gLCDpmaTms5Xlj5bmlbTvvIhgJS8lYO+8ieOAgemZpOazleWPluS9me+8iGAlJWDvvIkNCg0KIyMjIyDoh6rlrprkuYnkuozlhYPov5DnrpfnrKYNCg0K5b+F6aG755So5Y+N5byV5Y+35ZKM55m+5YiG5Y+35byV6LW35p2lDQoNCmBgYHtyfQ0KYCVteW9wJWAgPC0gZnVuY3Rpb24oYSwgYikgew0KICAyICogYSArIDMgKiBiDQp9DQoxICVteW9wJSAxDQoxICVteW9wJSAyDQpgYGANCg0KIyMjIOWMv+WQjeWHveaVsA0KDQrkuLrkuoboioLnnIHlj5jph4/lkI3vvIzlvojlpJrml7blgJnlj6/ku6Xkvb/nlKjljL/lkI3lh73mlbDjgIINCg0K5Yy/5ZCN5Ye95pWw5pyJ5Yeg56eN5YaZ5rOV77yM5LulIGBwdXJycjo6bWFwMigpYCDkuK3kuLrkvovvvJoNCg0KYGBge3J9DQojIOWGmeazlTHvvIzlhbPplK7lrZcgZnVuY3Rpb24g5LiN57y677yM5Y+q55yB55Wl5LqG5Ye95pWw5ZCN55qE5a6a5LmJDQptYXAyX2RibCgxOjEwLCAxMToyMCwgZnVuY3Rpb24oeCwgeSkgeSAtIHgpDQoNCiMg5YaZ5rOVMu+8jOWwhuWFs+mUruWtlyBmdW5jdGlvbiDnroDlhpnkuLpcDQptYXAyX2RibCgxOjEwLCAxMToyMCwgXCh4LCB5KSB5IC0geCkNCg0KIyDlhpnms5Uz77yM55SofuS7o+ihqOWMv+WQjeWHveaVsO+8jC54KOaIli4pLCAueeS7o+ihqOiHquWPmOmHjw0KbWFwMl9kYmwoMToxMCwgMTE6MjAsIH4gLnkgLSAueCkNCm1hcDJfZGJsKDE6MTAsIDExOjIwLCB+IC55IC0gLikNCmBgYA0KDQoqKuS4jeW7uuiuruS9v+eUqCBgfiAueGAg55qE5YaZ5rOVKirvvIzlm6DkuLrov5nnp43lhpnms5XmnInkuKTkuKrnvLrpmbfvvJoNCg0KMS4g5Yy/5ZCN5Ye95pWw5pyA5aSa5pyJ5Lik5Liq6Ieq5Y+Y6YeP77yMYC56YOaYr+S4jeiiq+iupOWPr+eahA0KMi4g6YWN5ZCI5Yqo5oCB5Y+C5pWwYC4uLmDkuIDotbfkvb/nlKjml7bvvIwqKuWtmOWcqGJ1Zyoq77yMYC4uLmDkvJrov57lhpnmmI7nmoRgLnhg5LiA6LW35o2V6I63DQoNCg0KIyMjIOWPguaVsA0KDQpgYGB7cn0NCmFkZChhcy5EYXRlKCIyMDIwLTAyLTAyIiksIDIpDQpgYGANCg0KIyMjIyDlj4LmlbDml6DlrprkuYkNCg0K6Iul5Ye95pWw55qE5p+Q5Liq5Y+C5pWw5rKh5pyJ5Lyg6YCS5YC877yMYG1pc3NpbmcocGFyYW1ldGVyKWAg6L+U5ZueIFRSVUUNCg0KYGBge3J9DQpteXBsb3QgPC0gZnVuY3Rpb24oeCwgeSkgew0KICBpZiAobWlzc2luZyh5KSkgew0KICAgIHkgPC0geA0KICAgIHggPC0gMTpsZW5ndGgoeSkNCiAgfQ0KICBwbG90KHgsIHkpDQp9DQoNCm15cGxvdChjKDYsIDcsIDgpKQ0KYGBgDQoNCiMjIyMg5Y+C5pWw6buY6K6k5YC8DQoNCum7mOiupOWAvOWPr+S7peaYr+S4gOS4quWAvO+8jOS5n+WPr+S7peaYr+S4gOS4quihqOi+vuW8j++8jOWFtuS4reWMheWQq+S6huWFtuWJjemdouWumuS5ieeahOWFtuS7luWPguaVsA0KDQpgYGB7cn0NCm0gPC0gMTo1DQp0ZXN0MyA8LSBmdW5jdGlvbih4LCBuID0gZmxvb3IobGVuZ3RoKG0pIC8gMikpIHsNCiAgeFsxOm5dDQp9DQp0ZXN0MyhsZXR0ZXJzKQ0KYGBgDQoNCiMjIyMg5Yqo5oCB5Y+C5pWwDQoNCmAuLi5g6IO95o2V6I635Lu75oSP5pWw6YeP55qE5pyq5Yy56YWN5Y+C5pWwDQoNCiMjIyMjIOeUqOazleS4gO+8mueUseS4gOiIrOWHveaVsOeJueWMluiAjOadpeeahOeJueauiuWHveaVsA0KDQpgYGB7cn0NCiMg5pyA5YW35LiA6Iis5oCn55qE5Ye95pWw77yM5Y+C5pWw5pyA5a6M5pW077yM5YyF5ZCr5aSn6YeP6buY6K6k5YC8DQpmIDwtIGZ1bmN0aW9uKHgsIHQsIHUgPSAwLCB2ID0gMCkgew0KICBpZiAodCA9PSAxKSB7DQogICAgcmV0dXJuKHggKyB1ICsgdikNCiAgfQ0KICBpZiAodCA9PSAyKSB7DQogICAgcmV0dXJuKHheMiArIHUgKyB2KQ0KICB9DQp9DQoNCmYoNSwgMSwgMywgMikNCmYoNSwgMiwgMywgMikNCmYoNSwgMSkNCmYoNSwgMikNCg0KIyDpgJrov4flr7nkuIDpg6jliIblj4LmlbDvvIh077yJ55qE54m55YyW77yM5a6e546w5LiA6Iis5Z+656GA5LiK55qE54m55q6K5Ye95pWwDQojIOS4uuS6hueugOS+v++8jOWPr+S7peecgeeVpeWkp+mHj+W3suaciem7mOiupOWAvOeahOWPguaVsA0KZyA8LSBmdW5jdGlvbih4LCAuLi4pIHsNCiAgZih4LCAxLCAuLi4pDQp9DQoNCmggPC0gZnVuY3Rpb24oeCwgLi4uKSB7DQogIGYoeCwgMiwgLi4uKQ0KfQ0KDQpnKDUsIDMsIDIpDQpoKDUsIDMsIDIpDQpnKDUpDQpoKDUpDQpgYGANCg0KDQojIyMjIyDnlKjms5XkuozvvJrmjZXojrfmnKrnn6XkuKrmlbDnmoTlj4LmlbANCg0K5Zyo5Ye95pWw5YaF6YOo77yM5Y+v5Lul55u05o6l55SoYHN0cl9jKClg5bCGYC4uLmDlkIjlubbkuLrlrZfnrKbkuLLvvIjplb/luqbkuLox77yJDQoNCuS9huS5n+WPr+S7peeUqGBsaXN0KC4uLilg5bCG5YW26L2s5YyW5Li65YiX6KGo77yI6ZW/5bqm5LiA6Iis5aSn5LqOMe+8ieWGjeWkhOeQhg0KDQpgYGB7cn0NCiMg5ZCI5bm25Li65a2X56ym5LiyDQpydWxlIDwtIGZ1bmN0aW9uKC4uLiwgcGFkID0gIj0iKSB7DQogIHByaW50KHN0cl9jKC4uLiwgc2VwID0gIiAiKSkNCiAgcHJpbnQobGVuZ3RoKHN0cl9jKC4uLiwgc2VwID0gIiAiKSkpDQogIGFyZ3MgPC0gbGlzdCguLi4pDQogIHByaW50KGFyZ3MpDQogIHByaW50KGxlbmd0aChhcmdzKSkNCiAgcHJpbnQoc3RyX2MoYXJncywgc2VwID0gIiAiKSkNCiAgcHJpbnQobGVuZ3RoKHN0cl9jKGFyZ3MsIHNlcCA9ICIgIikpKQ0KDQoNCiAgdGl0bGUgPC0gc3RyX2MoLi4uLCBzZXAgPSAiICIpDQogIHdpZHRoIDwtIGdldE9wdGlvbigid2lkdGgiKSAtIG5jaGFyKHRpdGxlKSAtIDUNCiAgY2F0KHRpdGxlLCAiICIsIHN0cmluZ3I6OnN0cl9kdXAocGFkLCB3aWR0aCksICJcbiIpDQp9DQpydWxlKCJJbXBvcnRhbnQiLCAib3V0cHV0IikNCg0KDQojIOivu+WPluS4umxpc3QNCm11bHRpcCA8LSBmdW5jdGlvbih4LCAuLi4pIHsNCiAgYXJncyA8LSBsaXN0KC4uLikgIyMg6I635Y+W5omA5pyJ5Y+C5pWwDQogIHggKyBhcmdzW1sxXV0gLSBhcmdzW1syXV0NCn0NCm11bHRpcCgzLCAyLCAzKQ0KYGBgDQoNCiMjIyMg5oOw5oCn5rGC5YC8DQoNCuWcqOWHveaVsOiwg+eUqOaXtu+8jOWPguaVsOeahOWAvOWPquacieiiq+WunumZheeUqOWIsOaXtuaJjeS8muiiq+aJp+ihjOOAgui/meagt+WPr+S7pemBv+WFjeS4jeW/heimgeeahOiuoeeul++8jOiKguecgeaXtumXtOOAgg0KDQpgYGB7cn0NCnRlc3QwIDwtIGZ1bmN0aW9uKHgsIHkpIHsNCiAgaWYgKHggPiAwKSB7DQogICAgeA0KICB9IGVsc2Ugew0KICAgIHkNCiAgfQ0KfQ0KDQojIOeUn+aIkOWkp+mHj+maj+acuuaVsOeahOiAl+aXtg0Kc3lzdGVtLnRpbWUocm5vcm0oMTAwMDAwMDApKQ0KDQojIOaDsOaAp+axguWAvO+8jOesrOS6jOS4quWPguaVsOW5tuacquaJp+ihjA0Kc3lzdGVtLnRpbWUodGVzdDAoMSwgcm5vcm0oMTAwMDAwMDApKSkNCmBgYA0KDQojIyMg6L+U5Zue5YC8DQoNCuiLpeaXoGByZXR1cm4oKWAsIOm7mOiupOi/lOWbnuacgOWQjuS4gOS4quihqOi+vuW8j+eahOWAvA0KDQoqKlIg6aOO5qC855qE5Luj56CB77yM6YCa5bi455yB55WlIGByZXR1cm4oKWAqKg0KDQrluIzmnJvov5Tlm57lpJrkuKrlgLzml7bvvIzkuIDoiKznlKggbGlzdCDmiJYgZGF0YWZyYW1lIOWwgeijhe+8iOWwseWDjyBqcyDkuK3nlKjlr7nosaHlsIHoo4XvvIkNCg0KIyMjIOazm+Wei+WHveaVsA0KDQpgYGB7cn0NCmNhbGMgPC0NCiAgZnVuY3Rpb24oeCwgeSwgdHlwZSkgew0KICAgIGlmIChsZW5ndGgodHlwZSA+IDFMKSkgew0KICAgICAgc3RvcCgiIE9ubHkgYSBzaW5nbGUgdHlwZSBpcyBhY2NlcHRlZCIpDQogICAgfQ0KDQogICAgaWYgKHR5cGUgPT0gImFkZCIpIHsNCiAgICAgIHggKyB5DQogICAgfSBlbHNlIGlmICh0eXBlID09ICJtaW51cyIpIHsNCiAgICAgIHggLSB5DQogICAgfSBlbHNlIGlmICh0eXBlID09ICJtdWx0aXBseSIpIHsNCiAgICAgIHggKiB5DQogICAgfSBlbHNlIGlmICh0eXBlID09ICJkaXZpZGUiKSB7DQogICAgICB4IC8geQ0KICAgIH0gZWxzZSB7DQogICAgICBzdG9wKCIgVW5rbm93biB0eXBlIG9mIG9wZXJhdGlvbiIpDQogICAgfQ0KICB9DQpgYGA=</div>


</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.odd').parent('tbody').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open');
  });
});
</script>

<!-- code folding -->
<script>
$(document).ready(function () {
  window.initializeSourceEmbed("函数.Rmd");
  window.initializeCodeFolding("show" === "show");
});
</script>

<script>
$(document).ready(function ()  {

    // temporarily add toc-ignore selector to headers for the consistency with Pandoc
    $('.unlisted.unnumbered').addClass('toc-ignore')

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1,h2,h3,h4",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_');
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = true;
    options.smoothScroll = true;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
