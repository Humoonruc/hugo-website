<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />


<meta name="author" content="Humoon" />

<meta name="date" content="2022-04-04" />

<title>组合型数据结构</title>

<script src="libs/header-attrs-2.13/header-attrs.js"></script>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="libs/bootstrap-3.3.5/css/united.min.css" rel="stylesheet" />
<script src="libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<style>h1 {font-size: 34px;}
       h1.title {font-size: 38px;}
       h2 {font-size: 30px;}
       h3 {font-size: 24px;}
       h4 {font-size: 18px;}
       h5 {font-size: 16px;}
       h6 {font-size: 12px;}
       code {color: inherit; background-color: rgba(0, 0, 0, 0.04);}
       pre:not([class]) { background-color: white }</style>
<script src="libs/jqueryui-1.11.4/jquery-ui.min.js"></script>
<link href="libs/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="libs/tocify-1.9.1/jquery.tocify.js"></script>
<script src="libs/navigation-1.1/tabsets.js"></script>
<script src="libs/navigation-1.1/codefolding.js"></script>
<script src="libs/navigation-1.1/sourceembed.js"></script>

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>



<style type="text/css">
  code {
    white-space: pre;
  }
  .sourceCode {
    overflow: visible;
  }
</style>
<style type="text/css" data-origin="pandoc">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; } /* Alert */
code span.an { color: #008000; } /* Annotation */
code span.at { } /* Attribute */
code span.bu { } /* BuiltIn */
code span.cf { color: #0000ff; } /* ControlFlow */
code span.ch { color: #008080; } /* Char */
code span.cn { } /* Constant */
code span.co { color: #008000; } /* Comment */
code span.cv { color: #008000; } /* CommentVar */
code span.do { color: #008000; } /* Documentation */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.im { } /* Import */
code span.in { color: #008000; } /* Information */
code span.kw { color: #0000ff; } /* Keyword */
code span.op { } /* Operator */
code span.ot { color: #ff4000; } /* Other */
code span.pp { color: #ff4000; } /* Preprocessor */
code span.sc { color: #008080; } /* SpecialChar */
code span.ss { color: #008080; } /* SpecialString */
code span.st { color: #008080; } /* String */
code span.va { } /* Variable */
code span.vs { color: #008080; } /* VerbatimString */
code span.wa { color: #008000; font-weight: bold; } /* Warning */

.sourceCode .row {
  width: 100%;
}
.sourceCode {
  overflow-x: auto;
}
.code-folding-btn {
  margin-right: -30px;
}
</style>
<script>
// apply pandoc div.sourceCode style to pre.sourceCode instead
(function() {
  var sheets = document.styleSheets;
  for (var i = 0; i < sheets.length; i++) {
    if (sheets[i].ownerNode.dataset["origin"] !== "pandoc") continue;
    try { var rules = sheets[i].cssRules; } catch (e) { continue; }
    for (var j = 0; j < rules.length; j++) {
      var rule = rules[j];
      // check if there is a div.sourceCode rule
      if (rule.type !== rule.STYLE_RULE || rule.selectorText !== "div.sourceCode") continue;
      var style = rule.style.cssText;
      // check if color or background-color is set
      if (rule.style.color === '' && rule.style.backgroundColor === '') continue;
      // replace div.sourceCode by a pre.sourceCode rule
      sheets[i].deleteRule(j);
      sheets[i].insertRule('pre.sourceCode{' + style + '}', j);
    }
  }
})();
</script>


<style type="text/css">
#rmd-source-code {
  display: none;
}
</style>


<link rel="stylesheet" href="../css/style.css" type="text/css" />



<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
details > summary > p:only-child {
  display: inline;
}
pre code {
  padding: 0;
}
</style>



<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "&#xe258;";
  border: none;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->
<style type="text/css">
.code-folding-btn { margin-bottom: 4px; }
</style>



<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}

@media print {
.toc-content {
  /* see https://github.com/w3c/csswg-drafts/issues/4434 */
  float: right;
}
}

.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.90em;
}

.tocify .list-group-item {
  border-radius: 0px;
}


</style>



</head>

<body>


<div class="container-fluid main-container">


<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">




<div id="header">

<div class="btn-group pull-right float-right">
<button type="button" class="btn btn-default btn-xs btn-secondary btn-sm dropdown-toggle" data-toggle="dropdown" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><span>Code</span> <span class="caret"></span></button>
<ul class="dropdown-menu dropdown-menu-right" style="min-width: 50px;">
<li><a id="rmd-show-all-code" href="#">Show All Code</a></li>
<li><a id="rmd-hide-all-code" href="#">Hide All Code</a></li>
<li role="separator" class="divider"></li>
<li><a id="rmd-download-source" href="#">Download Rmd</a></li>
</ul>
</div>



<h1 class="title toc-ignore">组合型数据结构</h1>
<h3 class="subtitle">Vector, Matrix, List and Dataframe</h3>
<h4 class="author">Humoon</h4>
<h4 class="date">2022-04-04</h4>

</div>


<div id="组合型数据结构的分类" class="section level2">
<h2>组合型数据结构的分类</h2>
<ol style="list-style-type: decimal">
<li>向量、矩阵、数组都要求单一数据类型 (homogeneous data types)。根基是 <code>c()</code> 向量</li>
<li>列表、数据框可以装载不同数据类型 (heterogeneous data types)。根基是<code>list()</code> 列表
<ol style="list-style-type: decimal">
<li>列表提高了存储的灵活性，但降低了存储效率和运行效率。</li>
<li>数据框是一种特殊的列表。</li>
</ol></li>
<li>不同类型的数据结合成一个向量时，会被强制转换为兼容的、更灵活的数据类型
<ol style="list-style-type: decimal">
<li>一般顺序为：logical&lt;integer&lt;numeric&lt;complex&lt;character&lt;list</li>
</ol></li>
<li>这两类的 common 属性：
<ol style="list-style-type: decimal">
<li>类型，typeof()</li>
<li>长度，length()</li>
<li>属性，attributes()，附加的任意 metadata</li>
</ol></li>
</ol>
</div>
<div id="vector" class="section level2">
<h2>Vector</h2>
<p><strong>注意</strong></p>
<ol style="list-style-type: decimal">
<li>R中无标量，标量被默认为长度为1的向量，所以在控制台显示一个数时，前面仍会有表示向量维度的 <code>[1]</code></li>
<li>R中的基础运算都是向量化的运算</li>
<li>R中的向量默认为列向量，不存在行向量。对列向量转置，得到的是一个<span class="math inline">\(1\times n\)</span>的矩阵</li>
</ol>
<div id="数据类型" class="section level3">
<h3>数据类型</h3>
<p>由于向量是 R 中最基本的数据类型（无标量），因此向量根据元素的数据类型被分为几种：</p>
<div id="logical" class="section level4">
<h4>logical</h4>
</div>
<div id="numeric" class="section level4">
<h4>numeric</h4>
<p>统称数值型</p>
<ul>
<li>整数，integer</li>
<li>双精度浮点数，double</li>
</ul>
<p>三种特殊情况：</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">exp</span>(<span class="dv">1000</span>) <span class="co"># Inf 正无穷</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] Inf</span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="sc">-</span><span class="dv">10</span> <span class="sc">/</span> <span class="dv">0</span> <span class="co"># -Inf 负无穷</span></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] -Inf</span></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="fu">exp</span>(<span class="dv">1000</span>) <span class="sc">/</span> <span class="fu">exp</span>(<span class="dv">990</span>) <span class="co"># NaN, not a number</span></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] NaN</span></span></code></pre></div>
<ol style="list-style-type: decimal">
<li>R 中数字的上限为 1.8*10^38，超过这个规模就会出现 Inf</li>
<li>只要表达式中有正负无穷的子项出现，结果就很可能为 Inf, -Inf, NaN</li>
</ol>
</div>
<div id="charactor" class="section level4">
<h4>charactor</h4>
</div>
<div id="null和na" class="section level4">
<h4><code>NULL</code>和<code>NA</code></h4>
<p>NA，长度为1的逻辑向量，表示数据的缺失值</p>
<p>NULL，零长向量，一般表示参数未被赋值，以及函数没有明确返回值时的返回</p>
</div>
</div>
<div id="create" class="section level3">
<h3>Create</h3>
<div id="c2-4-6" class="section level4">
<h4><code>c(2, 4, 6)</code></h4>
<p>创建和拼接向量，其他语言一般用<code>[]</code></p>
<p>向量定义时即使嵌套，也会被自动展开</p>
</div>
<div id="mn" class="section level4">
<h4><code>m:n</code></h4>
<p>连续整数向量</p>
</div>
<div id="seq_lenn" class="section level4">
<h4><code>seq_len(n)</code></h4>
<p>等价于<code>1:n</code>，区别在于 n 必须是正数，若为 0 则返回长度为 0 的空向量。1:0 则会返回递减的长度为2的序列。</p>
<p>因此<code>seq_len(n)</code>通常更符合代码编写者的意图。</p>
</div>
<div id="seqfrom-to-by1-length" class="section level4">
<h4><code>seq(from, to, by=1, length)</code></h4>
<p>等差数列。四个参数有三个即可。by为步长，length为向量size</p>
</div>
<div id="repx-times-each" class="section level4">
<h4><code>rep(x, times, each)</code></h4>
<p>元素复用，重复对象x times次。</p>
<p>若x与times都是向量且长度一致，则为对应元素重复对应次数。</p>
</div>
<div id="numericn-logicaln" class="section level4">
<h4><code>numeric(N)</code>, <code>logical(N)</code></h4>
<p>生成长度为 N, 每项为 0 的特定类型向量</p>
</div>
<div id="vectordouble-n" class="section level4">
<h4><code>vector('double', N)</code></h4>
<p>生成长度为N的特定类型向量</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="fu">rep</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>, <span class="dv">2</span>)</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 1 2 3 1 2 3</span></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a><span class="fu">rep</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>, <span class="at">each =</span> <span class="dv">2</span>)</span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 1 1 2 2 3 3</span></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a><span class="fu">rep</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>, <span class="fu">rep</span>(<span class="dv">2</span>, <span class="dv">1</span>)) <span class="co"># 即rep(1:3, 2)</span></span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 1 2 3 1 2 3</span></span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a><span class="fu">rep</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>, <span class="fu">rep</span>(<span class="dv">2</span>, <span class="dv">3</span>)) <span class="co"># 即rep(1:3, c(2, 2, 2))</span></span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 1 1 2 2 3 3</span></span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a><span class="fu">rep</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>, <span class="fu">c</span>(<span class="dv">2</span>, <span class="dv">4</span>, <span class="dv">1</span>))</span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 1 1 2 2 2 2 3</span></span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-12"><a href="#cb2-12" aria-hidden="true" tabindex="-1"></a>y <span class="ot">&lt;-</span> <span class="fu">numeric</span>(<span class="dv">6</span>)</span>
<span id="cb2-13"><a href="#cb2-13" aria-hidden="true" tabindex="-1"></a>y</span>
<span id="cb2-14"><a href="#cb2-14" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 0 0 0 0 0 0</span></span>
<span id="cb2-15"><a href="#cb2-15" aria-hidden="true" tabindex="-1"></a>z <span class="ot">&lt;-</span> <span class="fu">logical</span>(<span class="dv">7</span>)</span>
<span id="cb2-16"><a href="#cb2-16" aria-hidden="true" tabindex="-1"></a>z</span>
<span id="cb2-17"><a href="#cb2-17" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] FALSE FALSE FALSE FALSE FALSE FALSE FALSE</span></span>
<span id="cb2-18"><a href="#cb2-18" aria-hidden="true" tabindex="-1"></a>w <span class="ot">&lt;-</span> <span class="fu">character</span>(<span class="dv">2</span>)</span>
<span id="cb2-19"><a href="#cb2-19" aria-hidden="true" tabindex="-1"></a>w</span>
<span id="cb2-20"><a href="#cb2-20" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] &quot;&quot; &quot;&quot;</span></span>
<span id="cb2-21"><a href="#cb2-21" aria-hidden="true" tabindex="-1"></a>w <span class="ot">&lt;-</span> <span class="fu">c</span>(w, <span class="st">&quot;a&quot;</span>)</span>
<span id="cb2-22"><a href="#cb2-22" aria-hidden="true" tabindex="-1"></a>w</span>
<span id="cb2-23"><a href="#cb2-23" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] &quot;&quot;  &quot;&quot;  &quot;a&quot;</span></span></code></pre></div>
</div>
</div>
<div id="type" class="section level3">
<h3>Type</h3>
<ul>
<li><code>class()</code> 查看类型</li>
<li><code>is.*()</code> 判断类型</li>
<li><code>as.*()</code> 转换类型</li>
</ul>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>)</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] &quot;integer&quot;</span></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(<span class="fu">c</span>(T, F, T))</span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] &quot;logical&quot;</span></span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a><span class="fu">is.character</span>(<span class="fu">c</span>(<span class="st">&quot;h&quot;</span>, <span class="st">&quot;e&quot;</span>, <span class="st">&quot;l&quot;</span>, <span class="st">&quot;l&quot;</span>, <span class="st">&quot;o&quot;</span>))</span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] TRUE</span></span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a><span class="fu">as.character</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>)</span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] &quot;1&quot; &quot;2&quot; &quot;3&quot; &quot;4&quot; &quot;5&quot;</span></span></code></pre></div>
</div>
<div id="size" class="section level3">
<h3>Size</h3>
<p><code>length()</code></p>
<p><code>seq_along()</code></p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="fu">length</span>(w)</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 3</span></span></code></pre></div>
</div>
<div id="label" class="section level3">
<h3>Label</h3>
<ul>
<li><code>names(x)</code>，返回标签组成的向量</li>
<li><code>names(x) &lt;- c(...)</code>，标签赋值</li>
</ul>
</div>
<div id="subset" class="section level3">
<h3>Subset</h3>
<div id="选择器和提取器" class="section level4">
<h4>选择器<code>[]</code>和提取器<code>[[]]</code></h4>
<p><code>[]</code>为子集选择器，返回的是原数据的一个切片，不改变数据结构，==就像 JS 中的 <code>.filter()</code>==，即 R 中需要按照一定条件筛选数列时，用<code>[condition]</code>即可</p>
<p><code>[[]]</code>为元素提取器，返回的是原数据一个<strong>长度为1的切片</strong>中装载的内容，就像 JS 中的 <code>.filter()[]</code></p>
<p>对向量操作，<code>[]</code>和<code>[[]]</code>没有差别，都返回一维的向量。但对更复杂的数据类型，二者的差别就很明显：</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(iris) <span class="co"># 数据框</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; &#39;data.frame&#39;:    150 obs. of  5 variables:</span></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ Sepal.Length: num  5.1 4.9 4.7 4.6 5 5.4 4.6 5 4.4 4.9 ...</span></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ Sepal.Width : num  3.5 3 3.2 3.1 3.6 3.9 3.4 3.4 2.9 3.1 ...</span></span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ Petal.Length: num  1.4 1.4 1.3 1.5 1.4 1.7 1.4 1.5 1.4 1.5 ...</span></span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ Petal.Width : num  0.2 0.2 0.2 0.2 0.2 0.4 0.3 0.2 0.2 0.1 ...</span></span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ Species     : Factor w/ 3 levels &quot;setosa&quot;,&quot;versicolor&quot;,..: 1 1 1 1 1 1 1 1 1 1 ...</span></span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(iris[<span class="dv">1</span>]) <span class="co"># 只含一个变量的数据框</span></span>
<span id="cb5-10"><a href="#cb5-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; &#39;data.frame&#39;:    150 obs. of  1 variable:</span></span>
<span id="cb5-11"><a href="#cb5-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ Sepal.Length: num  5.1 4.9 4.7 4.6 5 5.4 4.6 5 4.4 4.9 ...</span></span>
<span id="cb5-12"><a href="#cb5-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-13"><a href="#cb5-13" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(iris[[<span class="dv">1</span>]]) <span class="co"># 向量</span></span>
<span id="cb5-14"><a href="#cb5-14" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  num [1:150] 5.1 4.9 4.7 4.6 5 5.4 4.6 5 4.4 4.9 ...</span></span></code></pre></div>
</div>
<div id="选取的三种方式" class="section level4">
<h4><code>[]</code>选取的三种方式</h4>
<ul>
<li>index <code>x[4]; x[-2:4]; x[c(1, 3)]</code></li>
<li>condition <code>x[x == 10]; x[x %in% c(1, 2, 5)]</code></li>
<li>标签 <code>x["apple"]</code></li>
</ul>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">5</span>, <span class="dv">7</span>)</span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>x[<span class="dv">3</span><span class="sc">:</span><span class="dv">5</span>] <span class="co"># x向量中的第3-5个元素</span></span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 3 4 5</span></span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a>x[<span class="sc">-</span><span class="dv">2</span>] <span class="co"># 除了第二个以外的元素</span></span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 1 3 4 5 7</span></span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a>x[<span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">4</span>)] <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">9</span>, <span class="dv">11</span>)</span>
<span id="cb6-8"><a href="#cb6-8" aria-hidden="true" tabindex="-1"></a>x <span class="co"># a中第1个和第4个元素</span></span>
<span id="cb6-9"><a href="#cb6-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1]  9  2  3 11  5  7</span></span>
<span id="cb6-10"><a href="#cb6-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-11"><a href="#cb6-11" aria-hidden="true" tabindex="-1"></a>x[x <span class="sc">%in%</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">5</span>)]</span>
<span id="cb6-12"><a href="#cb6-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 2 5</span></span></code></pre></div>
</div>
</div>
<div id="index" class="section level3">
<h3>Index</h3>
<div id="which" class="section level4">
<h4><code>which*</code></h4>
<ul>
<li><code>which(逻辑表达式)</code></li>
<li><code>which.min()</code></li>
<li><code>which.max()</code></li>
</ul>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>x</span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1]  9  2  3 11  5  7</span></span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a><span class="fu">which.max</span>(x)</span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 4</span></span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a><span class="fu">which.min</span>(x)</span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 2</span></span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a><span class="fu">which</span>(x <span class="sc">==</span> <span class="dv">2</span>)</span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 2</span></span>
<span id="cb7-9"><a href="#cb7-9" aria-hidden="true" tabindex="-1"></a><span class="fu">which</span>(x <span class="sc">&gt;</span> <span class="dv">4</span>)</span>
<span id="cb7-10"><a href="#cb7-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 1 4 5 6</span></span></code></pre></div>
</div>
<div id="match" class="section level4">
<h4><code>*match</code></h4>
<ul>
<li><p><code>match(vector1, vector2)</code>返回第一个向量中各元素在第二个向量中的位置序列，每一个都从头开始匹配，只要匹配到就结束。</p></li>
<li><p><code>pmatch(vector1, vector2)</code>，若第一个向量中某元素在第二个向量中匹配上了，则认为第二个向量中相应元素已被占用，再匹配第一个向量中的下一个元素时，跳过第二个向量中曾被匹配过的元素。</p></li>
</ul>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="fu">match</span>(<span class="fu">rep</span>(<span class="dv">1</span>, <span class="dv">3</span>), <span class="fu">rep</span>(<span class="dv">1</span>, <span class="dv">5</span>))</span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 1 1 1</span></span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a><span class="fu">pmatch</span>(<span class="fu">rep</span>(<span class="dv">1</span>, <span class="dv">3</span>), <span class="fu">rep</span>(<span class="dv">1</span>, <span class="dv">5</span>))</span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 1 2 3</span></span></code></pre></div>
</div>
</div>
<div id="operation" class="section level3">
<h3>Operation</h3>
<p>R 对向量的操作都要在原向量的拷贝上进行，不改变原向量（只有直接赋值能改变原向量）。好处是安全，坏处是慢。</p>
<div id="增删改" class="section level4">
<h4>增删改</h4>
<ul>
<li><code>append()</code> 返回插入元素后的拷贝. <span style="color:red"><strong>注意，R 中一般不直接修改原对象，所以如果要保留这个操作，一定要记得赋值给原变量。</strong></span></li>
<li><code>[-index]</code> 排除选集整体赋值</li>
<li><code>replace()</code> 批量替换</li>
</ul>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">5</span>, <span class="dv">7</span>)</span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">replace</span>(x, <span class="fu">c</span>(<span class="dv">3</span>, <span class="dv">4</span>), <span class="fu">c</span>(<span class="dv">5</span>, <span class="dv">5</span>)) <span class="co"># 替换：将x向量中第3个和第4个元素替换为5</span></span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>x</span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 1 2 5 5 5 7</span></span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a><span class="fu">append</span>(x, <span class="dv">100</span>, <span class="at">after =</span> <span class="dv">2</span>)</span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1]   1   2 100   5   5   5   7</span></span>
<span id="cb9-8"><a href="#cb9-8" aria-hidden="true" tabindex="-1"></a>x</span>
<span id="cb9-9"><a href="#cb9-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 1 2 5 5 5 7</span></span>
<span id="cb9-10"><a href="#cb9-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-11"><a href="#cb9-11" aria-hidden="true" tabindex="-1"></a>a <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">0</span>, <span class="dv">3</span>) <span class="co"># 删除0项</span></span>
<span id="cb9-12"><a href="#cb9-12" aria-hidden="true" tabindex="-1"></a>b <span class="ot">&lt;-</span> <span class="fu">which</span>(a <span class="sc">==</span> <span class="dv">0</span>)</span>
<span id="cb9-13"><a href="#cb9-13" aria-hidden="true" tabindex="-1"></a>b</span>
<span id="cb9-14"><a href="#cb9-14" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 1 2 5</span></span>
<span id="cb9-15"><a href="#cb9-15" aria-hidden="true" tabindex="-1"></a>a <span class="ot">&lt;-</span> a[<span class="sc">-</span>b]</span>
<span id="cb9-16"><a href="#cb9-16" aria-hidden="true" tabindex="-1"></a>a</span>
<span id="cb9-17"><a href="#cb9-17" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 1 2 3</span></span></code></pre></div>
</div>
<div id="sort" class="section level4">
<h4>Sort</h4>
<ul>
<li><code>rank()</code>返回向量中各元素相对大小的排序（默认升序）</li>
<li><code>sort()</code>返回排序后的向量</li>
<li><code>rev()</code>逆序排列</li>
</ul>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>x</span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 1 2 5 5 5 7</span></span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a><span class="fu">rank</span>(x)</span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 1 2 4 4 4 6</span></span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a><span class="fu">sort</span>(x, <span class="at">decreasing =</span> F) <span class="co"># 默认升序排序</span></span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 1 2 5 5 5 7</span></span>
<span id="cb10-8"><a href="#cb10-8" aria-hidden="true" tabindex="-1"></a>x</span>
<span id="cb10-9"><a href="#cb10-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 1 2 5 5 5 7</span></span>
<span id="cb10-10"><a href="#cb10-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-11"><a href="#cb10-11" aria-hidden="true" tabindex="-1"></a><span class="fu">rev</span>(x) <span class="co"># 逆序</span></span>
<span id="cb10-12"><a href="#cb10-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 7 5 5 5 2 1</span></span>
<span id="cb10-13"><a href="#cb10-13" aria-hidden="true" tabindex="-1"></a>x</span>
<span id="cb10-14"><a href="#cb10-14" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 1 2 5 5 5 7</span></span></code></pre></div>
</div>
<div id="去重偏移差分" class="section level4">
<h4>去重、偏移、差分</h4>
<ul>
<li><code>unique()</code> 去重</li>
<li><code>lead(x, n=1)</code>, <code>lag(x, n=1)</code> 偏移，返回一个序列的领先序列和滞后序列</li>
<li><code>diff(x, lag=1)</code> 差分，lag 用以指定滞后几项。默认的 lag 值为 1</li>
</ul>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="fu">unique</span>(x)</span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 1 2 5 7</span></span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>x</span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 1 2 5 5 5 7</span></span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a><span class="fu">lead</span>(x, <span class="dv">2</span>)</span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1]  5  5  5  7 NA NA</span></span>
<span id="cb11-8"><a href="#cb11-8" aria-hidden="true" tabindex="-1"></a>x</span>
<span id="cb11-9"><a href="#cb11-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 1 2 5 5 5 7</span></span>
<span id="cb11-10"><a href="#cb11-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-11"><a href="#cb11-11" aria-hidden="true" tabindex="-1"></a><span class="fu">diff</span>(x)</span>
<span id="cb11-12"><a href="#cb11-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 1 3 0 0 2</span></span>
<span id="cb11-13"><a href="#cb11-13" aria-hidden="true" tabindex="-1"></a>x</span>
<span id="cb11-14"><a href="#cb11-14" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 1 2 5 5 5 7</span></span></code></pre></div>
</div>
</div>
<div id="vectorization" class="section level3">
<h3>Vectorization</h3>
<p><strong>R 中的运算符和函数天然支持向量化运算，这是 R 的一大特色。</strong></p>
<p>向量化运算，即对应元素同时并行运算。如果长度不一，表达式中短的向量将会被循环使用，表达式的值将是一个和最长的向量等长的向量。</p>
<div id="算数运算" class="section level4">
<h4>算数运算</h4>
<p>四则运算(+-*/)、幂(^)、取整(%/%)、取余(%%)</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="dv">5</span> <span class="sc">%%</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">5</span>)</span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 0 1 2 1 0</span></span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">5</span></span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a>y <span class="ot">&lt;-</span> <span class="dv">2</span><span class="sc">:</span><span class="dv">6</span></span>
<span id="cb12-6"><a href="#cb12-6" aria-hidden="true" tabindex="-1"></a>x <span class="sc">*</span> y</span>
<span id="cb12-7"><a href="#cb12-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1]  2  6 12 20 30</span></span>
<span id="cb12-8"><a href="#cb12-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-9"><a href="#cb12-9" aria-hidden="true" tabindex="-1"></a><span class="co"># 向量内积（以下写法等价）</span></span>
<span id="cb12-10"><a href="#cb12-10" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span> <span class="sc">*</span> <span class="dv">2</span> <span class="sc">+</span> <span class="dv">2</span> <span class="sc">*</span> <span class="dv">3</span> <span class="sc">+</span> <span class="dv">3</span> <span class="sc">*</span> <span class="dv">4</span> <span class="sc">+</span> <span class="dv">4</span> <span class="sc">*</span> <span class="dv">5</span> <span class="sc">+</span> <span class="dv">5</span> <span class="sc">*</span> <span class="dv">6</span></span>
<span id="cb12-11"><a href="#cb12-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 70</span></span>
<span id="cb12-12"><a href="#cb12-12" aria-hidden="true" tabindex="-1"></a><span class="fu">crossprod</span>(x, y)</span>
<span id="cb12-13"><a href="#cb12-13" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;      [,1]</span></span>
<span id="cb12-14"><a href="#cb12-14" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1,]   70</span></span>
<span id="cb12-15"><a href="#cb12-15" aria-hidden="true" tabindex="-1"></a><span class="fu">t</span>(x) <span class="sc">%*%</span> y <span class="co"># R 中向量默认为列向量</span></span>
<span id="cb12-16"><a href="#cb12-16" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;      [,1]</span></span>
<span id="cb12-17"><a href="#cb12-17" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1,]   70</span></span>
<span id="cb12-18"><a href="#cb12-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-19"><a href="#cb12-19" aria-hidden="true" tabindex="-1"></a><span class="co"># 向量外积（以下写法等价）</span></span>
<span id="cb12-20"><a href="#cb12-20" aria-hidden="true" tabindex="-1"></a>x <span class="sc">%o%</span> y</span>
<span id="cb12-21"><a href="#cb12-21" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;      [,1] [,2] [,3] [,4] [,5]</span></span>
<span id="cb12-22"><a href="#cb12-22" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1,]    2    3    4    5    6</span></span>
<span id="cb12-23"><a href="#cb12-23" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [2,]    4    6    8   10   12</span></span>
<span id="cb12-24"><a href="#cb12-24" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [3,]    6    9   12   15   18</span></span>
<span id="cb12-25"><a href="#cb12-25" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [4,]    8   12   16   20   24</span></span>
<span id="cb12-26"><a href="#cb12-26" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [5,]   10   15   20   25   30</span></span>
<span id="cb12-27"><a href="#cb12-27" aria-hidden="true" tabindex="-1"></a><span class="fu">outer</span>(x, y)</span>
<span id="cb12-28"><a href="#cb12-28" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;      [,1] [,2] [,3] [,4] [,5]</span></span>
<span id="cb12-29"><a href="#cb12-29" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1,]    2    3    4    5    6</span></span>
<span id="cb12-30"><a href="#cb12-30" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [2,]    4    6    8   10   12</span></span>
<span id="cb12-31"><a href="#cb12-31" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [3,]    6    9   12   15   18</span></span>
<span id="cb12-32"><a href="#cb12-32" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [4,]    8   12   16   20   24</span></span>
<span id="cb12-33"><a href="#cb12-33" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [5,]   10   15   20   25   30</span></span>
<span id="cb12-34"><a href="#cb12-34" aria-hidden="true" tabindex="-1"></a><span class="fu">tcrossprod</span>(x, y)</span>
<span id="cb12-35"><a href="#cb12-35" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;      [,1] [,2] [,3] [,4] [,5]</span></span>
<span id="cb12-36"><a href="#cb12-36" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1,]    2    3    4    5    6</span></span>
<span id="cb12-37"><a href="#cb12-37" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [2,]    4    6    8   10   12</span></span>
<span id="cb12-38"><a href="#cb12-38" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [3,]    6    9   12   15   18</span></span>
<span id="cb12-39"><a href="#cb12-39" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [4,]    8   12   16   20   24</span></span>
<span id="cb12-40"><a href="#cb12-40" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [5,]   10   15   20   25   30</span></span>
<span id="cb12-41"><a href="#cb12-41" aria-hidden="true" tabindex="-1"></a>x <span class="sc">%*%</span> <span class="fu">t</span>(y)</span>
<span id="cb12-42"><a href="#cb12-42" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;      [,1] [,2] [,3] [,4] [,5]</span></span>
<span id="cb12-43"><a href="#cb12-43" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1,]    2    3    4    5    6</span></span>
<span id="cb12-44"><a href="#cb12-44" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [2,]    4    6    8   10   12</span></span>
<span id="cb12-45"><a href="#cb12-45" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [3,]    6    9   12   15   18</span></span>
<span id="cb12-46"><a href="#cb12-46" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [4,]    8   12   16   20   24</span></span>
<span id="cb12-47"><a href="#cb12-47" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [5,]   10   15   20   25   30</span></span></code></pre></div>
</div>
<div id="逻辑运算" class="section level4">
<h4>逻辑运算</h4>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">6</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>x <span class="sc">&lt;</span> <span class="dv">4</span></span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1]  TRUE  TRUE  TRUE FALSE FALSE FALSE</span></span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a><span class="fu">all</span>(x <span class="sc">&gt;</span> <span class="dv">5</span>) <span class="co"># 一个向量的所有元素是否满足某条件</span></span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] FALSE</span></span>
<span id="cb13-6"><a href="#cb13-6" aria-hidden="true" tabindex="-1"></a><span class="fu">any</span>(x <span class="sc">&gt;</span> <span class="dv">5</span>) <span class="co"># 一个向量的部分元素是否满足某条件</span></span>
<span id="cb13-7"><a href="#cb13-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] TRUE</span></span>
<span id="cb13-8"><a href="#cb13-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-9"><a href="#cb13-9" aria-hidden="true" tabindex="-1"></a><span class="fu">matrix</span>(x, <span class="dv">2</span>, <span class="at">byrow =</span> T) <span class="sc">&lt;</span> <span class="dv">4</span></span>
<span id="cb13-10"><a href="#cb13-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;       [,1]  [,2]  [,3]</span></span>
<span id="cb13-11"><a href="#cb13-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1,]  TRUE  TRUE  TRUE</span></span>
<span id="cb13-12"><a href="#cb13-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [2,] FALSE FALSE FALSE</span></span></code></pre></div>
</div>
<div id="集合运算" class="section level4">
<h4>集合运算</h4>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="fu">intersect</span>(<span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">3</span>, <span class="dv">12</span>, <span class="dv">4</span>, <span class="dv">123</span>, <span class="dv">12</span>), <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>)) <span class="co"># 交</span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 1 2 3</span></span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a><span class="fu">union</span>(<span class="fu">c</span>(<span class="st">&quot;狗熊会&quot;</span>, <span class="st">&quot;聚数据英才&quot;</span>), <span class="fu">c</span>(<span class="st">&quot;狗熊会&quot;</span>, <span class="st">&quot;助产业振兴&quot;</span>)) <span class="co"># 并</span></span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] &quot;狗熊会&quot;     &quot;聚数据英才&quot; &quot;助产业振兴&quot;</span></span>
<span id="cb14-6"><a href="#cb14-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-7"><a href="#cb14-7" aria-hidden="true" tabindex="-1"></a><span class="fu">setdiff</span>(<span class="dv">10</span><span class="sc">:</span><span class="dv">2</span>, <span class="dv">5</span><span class="sc">:</span><span class="dv">3</span>) <span class="co"># 差</span></span>
<span id="cb14-8"><a href="#cb14-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 10  9  8  7  6  2</span></span></code></pre></div>
</div>
</div>
</div>
<div id="matrix" class="section level2">
<h2>Matrix</h2>
<div id="create-1" class="section level3">
<h3>Create</h3>
<div id="向量转化为矩阵" class="section level4">
<h4>向量转化为矩阵</h4>
<ol style="list-style-type: decimal">
<li><code>matrix(vector, nrow, ncol, byrow = FALSE, dimnames = list(行名向量,列名向量))</code></li>
</ol>
<p>默认 byrow = FALSE，优先按列填充矩阵。可以设为 T 按行</p>
<ol start="2" style="list-style-type: decimal">
<li><code>dim(vector)=c(nrow,ncol)</code></li>
</ol>
</div>
<div id="产生对角矩阵" class="section level4">
<h4>产生对角矩阵</h4>
<p><code>diag(vector)</code></p>
<p><code>diag(n)</code> 生成 n 阶单位阵</p>
</div>
<div id="矩阵转化为向量" class="section level4">
<h4>矩阵转化为向量</h4>
<p><code>as.vector()</code> 按照一列一列地顺序将矩阵展开为向量</p>
</div>
</div>
<div id="size-1" class="section level3">
<h3>Size</h3>
<p><code>nrow(A)</code>;<code>ncol(A)</code></p>
</div>
<div id="label-1" class="section level3">
<h3>Label</h3>
<p><code>rownames() [&lt;-]</code></p>
<p><code>colnames() [&lt;-]</code></p>
</div>
<div id="subset-1" class="section level3">
<h3>Subset</h3>
<p><code>[行选择器, 列选择器]</code> 每个选择器都可以是index、condition 和 name</p>
<p>矩阵的<code>[]</code>选择器会返回维度尽可能低的结果，因此<code>A[2, ]</code>返回的是向量而非<span class="math inline">\(1\times n\)</span>的矩阵</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>A <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">16</span>, <span class="dv">4</span>)</span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a>A[<span class="dv">2</span>, ] <span class="co"># A的第2行</span></span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1]  2  6 10 14</span></span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-6"><a href="#cb15-6" aria-hidden="true" tabindex="-1"></a>A[, <span class="sc">-</span><span class="dv">2</span>] <span class="co"># A排除第2列</span></span>
<span id="cb15-7"><a href="#cb15-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;      [,1] [,2] [,3]</span></span>
<span id="cb15-8"><a href="#cb15-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1,]    1    9   13</span></span>
<span id="cb15-9"><a href="#cb15-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [2,]    2   10   14</span></span>
<span id="cb15-10"><a href="#cb15-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [3,]    3   11   15</span></span>
<span id="cb15-11"><a href="#cb15-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [4,]    4   12   16</span></span>
<span id="cb15-12"><a href="#cb15-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-13"><a href="#cb15-13" aria-hidden="true" tabindex="-1"></a>A[<span class="dv">3</span>, <span class="dv">2</span>] <span class="co"># A的第3行第2列</span></span>
<span id="cb15-14"><a href="#cb15-14" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 7</span></span>
<span id="cb15-15"><a href="#cb15-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-16"><a href="#cb15-16" aria-hidden="true" tabindex="-1"></a>A[<span class="dv">3</span>, <span class="fu">c</span>(<span class="dv">2</span>, <span class="dv">4</span>)] <span class="co"># A的第3行第2列和第4列</span></span>
<span id="cb15-17"><a href="#cb15-17" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1]  7 15</span></span></code></pre></div>
<p>矩阵本质上是一个向量，所以适用向量的一维选择器</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a>A <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">9</span>, <span class="dv">3</span>)</span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>A[A <span class="sc">&gt;</span> <span class="dv">3</span>]</span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 4 5 6 7 8 9</span></span></code></pre></div>
</div>
<div id="index-1" class="section level3">
<h3>Index</h3>
<p><code>row(A)</code>, <code>col(A)</code> 返回两个矩阵，元素分别为行列下标。</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 提取下三角矩阵算法</span></span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>A <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">16</span>, <span class="dv">4</span>)</span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a>A</span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;      [,1] [,2] [,3] [,4]</span></span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1,]    1    5    9   13</span></span>
<span id="cb17-6"><a href="#cb17-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [2,]    2    6   10   14</span></span>
<span id="cb17-7"><a href="#cb17-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [3,]    3    7   11   15</span></span>
<span id="cb17-8"><a href="#cb17-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [4,]    4    8   12   16</span></span>
<span id="cb17-9"><a href="#cb17-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-10"><a href="#cb17-10" aria-hidden="true" tabindex="-1"></a>A[<span class="fu">row</span>(A) <span class="sc">&lt;</span> <span class="fu">col</span>(A)] <span class="ot">&lt;-</span> <span class="dv">0</span></span>
<span id="cb17-11"><a href="#cb17-11" aria-hidden="true" tabindex="-1"></a>A</span>
<span id="cb17-12"><a href="#cb17-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;      [,1] [,2] [,3] [,4]</span></span>
<span id="cb17-13"><a href="#cb17-13" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1,]    1    0    0    0</span></span>
<span id="cb17-14"><a href="#cb17-14" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [2,]    2    6    0    0</span></span>
<span id="cb17-15"><a href="#cb17-15" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [3,]    3    7   11    0</span></span>
<span id="cb17-16"><a href="#cb17-16" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [4,]    4    8   12   16</span></span></code></pre></div>
</div>
<div id="operation-1" class="section level3">
<h3>Operation</h3>
<div id="转置" class="section level4">
<h4>转置</h4>
<p><code>t(A)</code></p>
<p>注：向量没有维度概念，向量不是 <code>1*n</code> 矩阵。要用<code>t(x)</code>和<code>t(t(x))</code>才能把向量转化为 <code>1*n</code> 和 <code>n*1</code> 的矩阵。</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">6</span></span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a><span class="fu">t</span>(x)</span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;      [,1] [,2] [,3] [,4] [,5] [,6]</span></span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1,]    1    2    3    4    5    6</span></span>
<span id="cb18-5"><a href="#cb18-5" aria-hidden="true" tabindex="-1"></a><span class="fu">t</span>(<span class="fu">t</span>(x))</span>
<span id="cb18-6"><a href="#cb18-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;      [,1]</span></span>
<span id="cb18-7"><a href="#cb18-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1,]    1</span></span>
<span id="cb18-8"><a href="#cb18-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [2,]    2</span></span>
<span id="cb18-9"><a href="#cb18-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [3,]    3</span></span>
<span id="cb18-10"><a href="#cb18-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [4,]    4</span></span>
<span id="cb18-11"><a href="#cb18-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [5,]    5</span></span>
<span id="cb18-12"><a href="#cb18-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [6,]    6</span></span></code></pre></div>
</div>
<div id="矩阵乘法" class="section level4">
<h4>矩阵乘法</h4>
<ul>
<li><code>A%*%B</code>
<ul>
<li>一个例外：若 A 和 B 均为列向量，则运算时自动对 A 转置[^转置]，执行 <code>t(A)%*%B</code>. 事实上，<code>t(A)%*%B</code>也叫向量 A 与向量 B 的内积。</li>
<li><code>A%o%B</code> 等价于 <code>A%*%t(B)</code>，也叫向量 A 与向量 B 的外积。</li>
</ul></li>
<li><code>crossprod(A,B)</code>, <code>t(A)%*%B</code>的简化写法</li>
<li><code>tcrossprod(A,B)</code>, <code>A%*%t(B)</code>的简化写法</li>
</ul>
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 矩阵乘法</span></span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a>m1 <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">9</span>, <span class="dv">3</span>)</span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a>m1 <span class="sc">%*%</span> m1</span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;      [,1] [,2] [,3]</span></span>
<span id="cb19-5"><a href="#cb19-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1,]   30   66  102</span></span>
<span id="cb19-6"><a href="#cb19-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [2,]   36   81  126</span></span>
<span id="cb19-7"><a href="#cb19-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [3,]   42   96  150</span></span></code></pre></div>
<p>[^转置]：若不转置，这个运算根本无法进行。</p>
</div>
<div id="对角元素" class="section level4">
<h4>对角元素</h4>
<p><code>diag(A)</code> 返回对角元素组成的向量</p>
</div>
<div id="求矩阵方程的解求逆" class="section level4">
<h4>求矩阵方程的解；求逆</h4>
<ul>
<li><code>solve(A,B)</code>, 返回<code>A%*%X=B</code>的解。</li>
<li><code>solve(A)</code>, 返回矩阵A的逆，即<code>Solve(A,I)</code></li>
</ul>
</div>
<div id="特征值和特征向量" class="section level4">
<h4>特征值和特征向量</h4>
<p><code>A.eigen &lt;- eigen(A, symmetric=T)</code></p>
</div>
<div id="行列式" class="section level4">
<h4>行列式</h4>
<p><code>det(A)</code></p>
</div>
<div id="提取上下三角矩阵" class="section level4">
<h4>提取上、下三角矩阵</h4>
<p><code>lower.tri(A,diag=T/F)</code>和<code>upper.tri(A,diag=T/F)</code>，这两个函数返回逻辑矩阵</p>
<div class="sourceCode" id="cb20"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a>A <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">16</span>, <span class="dv">4</span>)</span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a>A</span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;      [,1] [,2] [,3] [,4]</span></span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1,]    1    5    9   13</span></span>
<span id="cb20-5"><a href="#cb20-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [2,]    2    6   10   14</span></span>
<span id="cb20-6"><a href="#cb20-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [3,]    3    7   11   15</span></span>
<span id="cb20-7"><a href="#cb20-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [4,]    4    8   12   16</span></span>
<span id="cb20-8"><a href="#cb20-8" aria-hidden="true" tabindex="-1"></a>A[<span class="fu">lower.tri</span>(A)] <span class="ot">&lt;-</span> <span class="dv">0</span></span>
<span id="cb20-9"><a href="#cb20-9" aria-hidden="true" tabindex="-1"></a>A</span>
<span id="cb20-10"><a href="#cb20-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;      [,1] [,2] [,3] [,4]</span></span>
<span id="cb20-11"><a href="#cb20-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1,]    1    5    9   13</span></span>
<span id="cb20-12"><a href="#cb20-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [2,]    0    6   10   14</span></span>
<span id="cb20-13"><a href="#cb20-13" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [3,]    0    0   11   15</span></span>
<span id="cb20-14"><a href="#cb20-14" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [4,]    0    0    0   16</span></span></code></pre></div>
</div>
<div id="正定矩阵的choleskey分解" class="section level4">
<h4>正定矩阵的Choleskey分解</h4>
<p><code>chol(A)</code></p>
<p>即返回满足<span class="math inline">\(A=P{^T}P\)</span>的P，其中P为上三角矩阵</p>
</div>
<div id="矩阵合并" class="section level4">
<h4>矩阵合并</h4>
<div class="sourceCode" id="cb21"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="fu">rbind</span>(A, B)</span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a><span class="fu">cbind</span>(A, B)</span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a>dplyr<span class="sc">::</span><span class="fu">bind_rows</span>(A, B)</span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a>dplyr<span class="sc">::</span><span class="fu">bind_cols</span>(A, B)</span></code></pre></div>
</div>
<div id="统计行列" class="section level4">
<h4>统计行、列</h4>
<ul>
<li><code>rowSums()</code></li>
<li><code>rowMeans()</code></li>
<li><code>colSums()</code></li>
<li><code>colMeans()</code></li>
</ul>
<div class="sourceCode" id="cb22"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a>A <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">16</span>, <span class="dv">4</span>)</span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a><span class="fu">rowSums</span>(A)</span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 28 32 36 40</span></span></code></pre></div>
</div>
</div>
</div>
<div id="array" class="section level2">
<h2>Array</h2>
<p>张量，或更高维度的向量</p>
<div id="create-2" class="section level3">
<h3>Create</h3>
<p><code>z&lt;-array(vector, dimensions, dimnames = list(v1, v2, v3, ...))</code></p>
</div>
<div id="label-2" class="section level3">
<h3>Label</h3>
<p><code>dimnames() [&lt;-]</code></p>
<div class="sourceCode" id="cb23"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a>z <span class="ot">&lt;-</span> <span class="fu">array</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">24</span>, <span class="at">dim =</span> <span class="fu">c</span>(<span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>), <span class="at">dimnames =</span> <span class="fu">list</span>(<span class="fu">c</span>(<span class="st">&quot;r1&quot;</span>, <span class="st">&quot;r2&quot;</span>), <span class="fu">c</span>(<span class="st">&quot;c1&quot;</span>, <span class="st">&quot;c2&quot;</span>, <span class="st">&quot;c3&quot;</span>), <span class="fu">c</span>(<span class="st">&quot;p1&quot;</span>, <span class="st">&quot;p2&quot;</span>, <span class="st">&quot;p3&quot;</span>, <span class="st">&quot;p4&quot;</span>)))</span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a>z</span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; , , p1</span></span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb23-5"><a href="#cb23-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;    c1 c2 c3</span></span>
<span id="cb23-6"><a href="#cb23-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; r1  1  3  5</span></span>
<span id="cb23-7"><a href="#cb23-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; r2  2  4  6</span></span>
<span id="cb23-8"><a href="#cb23-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb23-9"><a href="#cb23-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; , , p2</span></span>
<span id="cb23-10"><a href="#cb23-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb23-11"><a href="#cb23-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;    c1 c2 c3</span></span>
<span id="cb23-12"><a href="#cb23-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; r1  7  9 11</span></span>
<span id="cb23-13"><a href="#cb23-13" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; r2  8 10 12</span></span>
<span id="cb23-14"><a href="#cb23-14" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb23-15"><a href="#cb23-15" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; , , p3</span></span>
<span id="cb23-16"><a href="#cb23-16" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb23-17"><a href="#cb23-17" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;    c1 c2 c3</span></span>
<span id="cb23-18"><a href="#cb23-18" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; r1 13 15 17</span></span>
<span id="cb23-19"><a href="#cb23-19" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; r2 14 16 18</span></span>
<span id="cb23-20"><a href="#cb23-20" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb23-21"><a href="#cb23-21" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; , , p4</span></span>
<span id="cb23-22"><a href="#cb23-22" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb23-23"><a href="#cb23-23" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;    c1 c2 c3</span></span>
<span id="cb23-24"><a href="#cb23-24" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; r1 19 21 23</span></span>
<span id="cb23-25"><a href="#cb23-25" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; r2 20 22 24</span></span>
<span id="cb23-26"><a href="#cb23-26" aria-hidden="true" tabindex="-1"></a><span class="fu">dimnames</span>(z)</span>
<span id="cb23-27"><a href="#cb23-27" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [[1]]</span></span>
<span id="cb23-28"><a href="#cb23-28" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] &quot;r1&quot; &quot;r2&quot;</span></span>
<span id="cb23-29"><a href="#cb23-29" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb23-30"><a href="#cb23-30" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [[2]]</span></span>
<span id="cb23-31"><a href="#cb23-31" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] &quot;c1&quot; &quot;c2&quot; &quot;c3&quot;</span></span>
<span id="cb23-32"><a href="#cb23-32" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb23-33"><a href="#cb23-33" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [[3]]</span></span>
<span id="cb23-34"><a href="#cb23-34" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] &quot;p1&quot; &quot;p2&quot; &quot;p3&quot; &quot;p4&quot;</span></span></code></pre></div>
</div>
</div>
<div id="list" class="section level2">
<h2>List</h2>
<p>广义向量，大致相当于 JS 中的对象，本质上是一组<span style = 'color: orangered'><strong>有序</span>键值对</strong>的集合。</p>
<p>遍历list，就是遍历它的键值对。</p>
<p>灵活使用 list 才能成为 R 编程高手。</p>
<div id="create-3" class="section level3">
<h3>Create</h3>
<p><code>list(key1 = value1, key2 = value2, ...)</code></p>
<p>可以简写为 <code>list(value1, value2, ...)</code>，此时使用从 1 开始的自然数列作为缺省的 keys</p>
</div>
<div id="type-1" class="section level3">
<h3>Type</h3>
<ul>
<li><p><code>is.list()</code> 判断</p></li>
<li><p><code>as.list()</code> 转换</p></li>
<li><p><code>unlist()</code> 将列表强制转换为向量</p>
<ul>
<li>按分量顺序依次排列，强制不再嵌套！</li>
<li>自动保证同样的数据类型。比如，强制转换混合了数值和文本的列表，会得到字符串向量</li>
</ul></li>
</ul>
</div>
<div id="label-3" class="section level3">
<h3>Label</h3>
<p><code>names(list) [&lt;-]</code></p>
</div>
<div id="subset-2" class="section level3">
<h3>Subset</h3>
<p>第一种语法，用<code>[]</code>符号，里面可以是 index/condition/key</p>
<p>第二种语法，用 `[`() 或 <code>magrittr::extract()</code>函数</p>
<div class="sourceCode" id="cb24"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a>l <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="st">&quot;a&quot;</span>, <span class="dv">2</span>, <span class="cn">TRUE</span>)</span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a>l[<span class="dv">1</span>]</span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [[1]]</span></span>
<span id="cb24-4"><a href="#cb24-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] &quot;a&quot;</span></span>
<span id="cb24-5"><a href="#cb24-5" aria-hidden="true" tabindex="-1"></a><span class="st">`</span><span class="at">[</span><span class="st">`</span>(l, <span class="dv">1</span>)</span>
<span id="cb24-6"><a href="#cb24-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [[1]]</span></span>
<span id="cb24-7"><a href="#cb24-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] &quot;a&quot;</span></span>
<span id="cb24-8"><a href="#cb24-8" aria-hidden="true" tabindex="-1"></a>magrittr<span class="sc">::</span><span class="fu">extract</span>(l, <span class="dv">1</span>)</span>
<span id="cb24-9"><a href="#cb24-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [[1]]</span></span>
<span id="cb24-10"><a href="#cb24-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] &quot;a&quot;</span></span></code></pre></div>
</div>
<div id="extract" class="section level3">
<h3>Extract</h3>
<p>第一种语法，用<code>[[]]</code>符号，里面可以是 index/condition/key</p>
<p>第二种语法，用<code>$</code>符号+key，<code>list$key</code>，是<code>list[['key']]</code>的简写</p>
<p>第三种语法，用 `[[`() 或 <code>magrittr::extract2()</code>函数</p>
<div class="sourceCode" id="cb25"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a>l[[<span class="dv">1</span>]]</span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] &quot;a&quot;</span></span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a><span class="st">`</span><span class="at">[[</span><span class="st">`</span>(l, <span class="dv">1</span>)</span>
<span id="cb25-4"><a href="#cb25-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] &quot;a&quot;</span></span>
<span id="cb25-5"><a href="#cb25-5" aria-hidden="true" tabindex="-1"></a>magrittr<span class="sc">::</span><span class="fu">extract2</span>(l, <span class="dv">1</span>)</span>
<span id="cb25-6"><a href="#cb25-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] &quot;a&quot;</span></span></code></pre></div>
</div>
<div id="operation-2" class="section level3">
<h3>Operation</h3>
<div id="添加元素" class="section level4">
<h4>添加元素</h4>
<p>第一种语法，直接赋值。</p>
<p>第二种语法，<code>append(list, value, after = length(list))</code>，默认加到列表的末尾。但若插入的元素本身是一个列表（很多对象本质上都是一个列表），则会<strong>破坏层级结构，将所有的元素依次插入到前一个列表</strong>。所以若要保存列表的层级结构，还是第一种语法更保险。</p>
<div class="sourceCode" id="cb26"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a>l[[<span class="dv">4</span>]] <span class="ot">&lt;-</span> <span class="fu">data.table</span>(<span class="at">x =</span> <span class="dv">1</span>, <span class="at">y =</span> <span class="dv">2</span>)</span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a>l<span class="sc">$</span>z <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;one&quot;</span>, <span class="st">&quot;two&quot;</span>, <span class="st">&quot;three&quot;</span>)</span>
<span id="cb26-3"><a href="#cb26-3" aria-hidden="true" tabindex="-1"></a>l</span>
<span id="cb26-4"><a href="#cb26-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [[1]]</span></span>
<span id="cb26-5"><a href="#cb26-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] &quot;a&quot;</span></span>
<span id="cb26-6"><a href="#cb26-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb26-7"><a href="#cb26-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [[2]]</span></span>
<span id="cb26-8"><a href="#cb26-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 2</span></span>
<span id="cb26-9"><a href="#cb26-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb26-10"><a href="#cb26-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [[3]]</span></span>
<span id="cb26-11"><a href="#cb26-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] TRUE</span></span>
<span id="cb26-12"><a href="#cb26-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb26-13"><a href="#cb26-13" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [[4]]</span></span>
<span id="cb26-14"><a href="#cb26-14" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;    x y</span></span>
<span id="cb26-15"><a href="#cb26-15" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1: 1 2</span></span>
<span id="cb26-16"><a href="#cb26-16" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb26-17"><a href="#cb26-17" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; $z</span></span>
<span id="cb26-18"><a href="#cb26-18" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] &quot;one&quot;   &quot;two&quot;   &quot;three&quot;</span></span>
<span id="cb26-19"><a href="#cb26-19" aria-hidden="true" tabindex="-1"></a>l <span class="ot">&lt;-</span> <span class="fu">append</span>(l, <span class="dv">6</span>)</span>
<span id="cb26-20"><a href="#cb26-20" aria-hidden="true" tabindex="-1"></a>l</span>
<span id="cb26-21"><a href="#cb26-21" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [[1]]</span></span>
<span id="cb26-22"><a href="#cb26-22" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] &quot;a&quot;</span></span>
<span id="cb26-23"><a href="#cb26-23" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb26-24"><a href="#cb26-24" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [[2]]</span></span>
<span id="cb26-25"><a href="#cb26-25" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 2</span></span>
<span id="cb26-26"><a href="#cb26-26" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb26-27"><a href="#cb26-27" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [[3]]</span></span>
<span id="cb26-28"><a href="#cb26-28" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] TRUE</span></span>
<span id="cb26-29"><a href="#cb26-29" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb26-30"><a href="#cb26-30" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [[4]]</span></span>
<span id="cb26-31"><a href="#cb26-31" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;    x y</span></span>
<span id="cb26-32"><a href="#cb26-32" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1: 1 2</span></span>
<span id="cb26-33"><a href="#cb26-33" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb26-34"><a href="#cb26-34" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; $z</span></span>
<span id="cb26-35"><a href="#cb26-35" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] &quot;one&quot;   &quot;two&quot;   &quot;three&quot;</span></span>
<span id="cb26-36"><a href="#cb26-36" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb26-37"><a href="#cb26-37" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [[6]]</span></span>
<span id="cb26-38"><a href="#cb26-38" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 6</span></span>
<span id="cb26-39"><a href="#cb26-39" aria-hidden="true" tabindex="-1"></a>l <span class="ot">&lt;-</span> <span class="fu">append</span>(l, <span class="fu">list</span>(<span class="dv">7</span>, <span class="dv">8</span>))</span>
<span id="cb26-40"><a href="#cb26-40" aria-hidden="true" tabindex="-1"></a>l</span>
<span id="cb26-41"><a href="#cb26-41" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [[1]]</span></span>
<span id="cb26-42"><a href="#cb26-42" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] &quot;a&quot;</span></span>
<span id="cb26-43"><a href="#cb26-43" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb26-44"><a href="#cb26-44" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [[2]]</span></span>
<span id="cb26-45"><a href="#cb26-45" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 2</span></span>
<span id="cb26-46"><a href="#cb26-46" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb26-47"><a href="#cb26-47" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [[3]]</span></span>
<span id="cb26-48"><a href="#cb26-48" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] TRUE</span></span>
<span id="cb26-49"><a href="#cb26-49" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb26-50"><a href="#cb26-50" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [[4]]</span></span>
<span id="cb26-51"><a href="#cb26-51" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;    x y</span></span>
<span id="cb26-52"><a href="#cb26-52" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1: 1 2</span></span>
<span id="cb26-53"><a href="#cb26-53" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb26-54"><a href="#cb26-54" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; $z</span></span>
<span id="cb26-55"><a href="#cb26-55" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] &quot;one&quot;   &quot;two&quot;   &quot;three&quot;</span></span>
<span id="cb26-56"><a href="#cb26-56" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb26-57"><a href="#cb26-57" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [[6]]</span></span>
<span id="cb26-58"><a href="#cb26-58" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 6</span></span>
<span id="cb26-59"><a href="#cb26-59" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb26-60"><a href="#cb26-60" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [[7]]</span></span>
<span id="cb26-61"><a href="#cb26-61" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 7</span></span>
<span id="cb26-62"><a href="#cb26-62" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb26-63"><a href="#cb26-63" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [[8]]</span></span>
<span id="cb26-64"><a href="#cb26-64" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 8</span></span>
<span id="cb26-65"><a href="#cb26-65" aria-hidden="true" tabindex="-1"></a>l[[<span class="dv">9</span>]] <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="dv">9</span>, <span class="dv">10</span>)</span>
<span id="cb26-66"><a href="#cb26-66" aria-hidden="true" tabindex="-1"></a>l</span>
<span id="cb26-67"><a href="#cb26-67" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [[1]]</span></span>
<span id="cb26-68"><a href="#cb26-68" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] &quot;a&quot;</span></span>
<span id="cb26-69"><a href="#cb26-69" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb26-70"><a href="#cb26-70" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [[2]]</span></span>
<span id="cb26-71"><a href="#cb26-71" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 2</span></span>
<span id="cb26-72"><a href="#cb26-72" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb26-73"><a href="#cb26-73" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [[3]]</span></span>
<span id="cb26-74"><a href="#cb26-74" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] TRUE</span></span>
<span id="cb26-75"><a href="#cb26-75" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb26-76"><a href="#cb26-76" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [[4]]</span></span>
<span id="cb26-77"><a href="#cb26-77" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;    x y</span></span>
<span id="cb26-78"><a href="#cb26-78" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1: 1 2</span></span>
<span id="cb26-79"><a href="#cb26-79" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb26-80"><a href="#cb26-80" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; $z</span></span>
<span id="cb26-81"><a href="#cb26-81" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] &quot;one&quot;   &quot;two&quot;   &quot;three&quot;</span></span>
<span id="cb26-82"><a href="#cb26-82" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb26-83"><a href="#cb26-83" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [[6]]</span></span>
<span id="cb26-84"><a href="#cb26-84" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 6</span></span>
<span id="cb26-85"><a href="#cb26-85" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb26-86"><a href="#cb26-86" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [[7]]</span></span>
<span id="cb26-87"><a href="#cb26-87" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 7</span></span>
<span id="cb26-88"><a href="#cb26-88" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb26-89"><a href="#cb26-89" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [[8]]</span></span>
<span id="cb26-90"><a href="#cb26-90" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 8</span></span>
<span id="cb26-91"><a href="#cb26-91" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb26-92"><a href="#cb26-92" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [[9]]</span></span>
<span id="cb26-93"><a href="#cb26-93" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [[9]][[1]]</span></span>
<span id="cb26-94"><a href="#cb26-94" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 9</span></span>
<span id="cb26-95"><a href="#cb26-95" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb26-96"><a href="#cb26-96" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [[9]][[2]]</span></span>
<span id="cb26-97"><a href="#cb26-97" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 10</span></span></code></pre></div>
<p>添加元素的最佳写法，无需知道 index</p>
<div class="sourceCode" id="cb27"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a>l <span class="ot">&lt;-</span> <span class="fu">list</span>(...)</span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a>l[[<span class="fu">length</span>(l) <span class="sc">+</span> <span class="dv">1</span>]] <span class="ot">&lt;-</span> new_element</span></code></pre></div>
</div>
<div id="删除元素" class="section level4">
<h4>删除元素</h4>
<p>赋值为 <code>NULL</code> 即为删除</p>
</div>
</div>
</div>
<div id="data.frame" class="section level2">
<h2>Data.Frame</h2>
<p>data.frame 是长度相同的列向量组成的 List（可以按照这个思路去构建 JS 中的数据框）。R 原生支持向量化操作，因此 R 操作数据框有先天优势。</p>
<p>data.frame 可以像矩阵一样，以二维表方式呈现。因此，<strong>R 中操作矩阵的一些函数兼容了 data.frame 对象</strong>，即可以像操作矩阵一样操作 data.frame</p>
<div id="create-4" class="section level3">
<h3>Create</h3>
<p><code>data.frame(var1 = col1, var2 = col2, …, row.names = , check.names = T, stringsAsFactors = F)</code></p>
<ol style="list-style-type: decimal">
<li><p>R 4.0 之前，构建R的原生数据框时，参数 stringsAsFactors 的默认值为 TRUE，字符向量默认被转换成因子（因子的 level 相比字符串节省储存空间），数据类型变为 numeric，无法再用字符串函数处理。4.0 后更改了这一默认值。</p></li>
<li><p>check.names 默认为 TRUE，建立数据框时默认使用函数 <code>make.names()</code> 检查变量名，将 R 不允许出现在变量名中的特殊字符转换为<code>.</code></p>
<ol style="list-style-type: decimal">
<li>若选 FALSE，会最大限度地保留原本的列名。但访问这些在 R 中本为非法的列时，必须用反引号将列名括起来。</li>
</ol></li>
</ol>
</div>
<div id="type-2" class="section level3">
<h3>Type</h3>
<ul>
<li><p><code>as.data.frame()</code> 将矩阵、列表强制转换为数据框</p>
<ul>
<li>如果矩阵已有行、列名，会在转换过程中保留</li>
</ul></li>
</ul>
</div>
<div id="label-4" class="section level3">
<h3>Label</h3>
<p>适用于 matrix 的<code>rownames()</code>和<code>colnames()</code>也适用于数据框。</p>
<div class="sourceCode" id="cb28"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a>a <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="at">id =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>, <span class="at">lower =</span> letters[<span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>], <span class="at">upper =</span> LETTERS[<span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>])</span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(a)</span>
<span id="cb28-3"><a href="#cb28-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] &quot;list&quot;</span></span>
<span id="cb28-4"><a href="#cb28-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-5"><a href="#cb28-5" aria-hidden="true" tabindex="-1"></a><span class="fu">rownames</span>(a)</span>
<span id="cb28-6"><a href="#cb28-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; NULL</span></span>
<span id="cb28-7"><a href="#cb28-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-8"><a href="#cb28-8" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(a)</span>
<span id="cb28-9"><a href="#cb28-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; NULL</span></span>
<span id="cb28-10"><a href="#cb28-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-11"><a href="#cb28-11" aria-hidden="true" tabindex="-1"></a>b <span class="ot">&lt;-</span> <span class="fu">as.data.frame</span>(a)</span>
<span id="cb28-12"><a href="#cb28-12" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(b)</span>
<span id="cb28-13"><a href="#cb28-13" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] &quot;data.frame&quot;</span></span>
<span id="cb28-14"><a href="#cb28-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-15"><a href="#cb28-15" aria-hidden="true" tabindex="-1"></a><span class="fu">rownames</span>(b)</span>
<span id="cb28-16"><a href="#cb28-16" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] &quot;1&quot; &quot;2&quot; &quot;3&quot; &quot;4&quot; &quot;5&quot;</span></span>
<span id="cb28-17"><a href="#cb28-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-18"><a href="#cb28-18" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(b)</span>
<span id="cb28-19"><a href="#cb28-19" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] &quot;id&quot;    &quot;lower&quot; &quot;upper&quot;</span></span></code></pre></div>
</div>
<div id="subset-3" class="section level3">
<h3>Subset</h3>
<p>既可以用列表风格的<code>[]</code>，也可以用矩阵风格的<code>[rowSelector, columnSelector]</code></p>
<ol style="list-style-type: decimal">
<li>矩阵风格选择器的好处在于，可以灵活地筛选行</li>
</ol>
<div class="sourceCode" id="cb29"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a>df <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">id =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>,</span>
<span id="cb29-3"><a href="#cb29-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">lower =</span> letters[<span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>],</span>
<span id="cb29-4"><a href="#cb29-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">upper =</span> LETTERS[<span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>]</span>
<span id="cb29-5"><a href="#cb29-5" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb29-6"><a href="#cb29-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-7"><a href="#cb29-7" aria-hidden="true" tabindex="-1"></a><span class="co"># 矩阵风格的选择器</span></span>
<span id="cb29-8"><a href="#cb29-8" aria-hidden="true" tabindex="-1"></a>df[df<span class="sc">$</span>id <span class="sc">&gt;</span> <span class="dv">3</span>, <span class="fu">c</span>(<span class="dv">2</span>, <span class="dv">3</span>)]</span>
<span id="cb29-9"><a href="#cb29-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   lower upper</span></span>
<span id="cb29-10"><a href="#cb29-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 4     d     D</span></span>
<span id="cb29-11"><a href="#cb29-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 5     e     E</span></span></code></pre></div>
<ol start="2" style="list-style-type: decimal">
<li>用矩阵风格的二维选择器时，跟矩阵一样会尽可能降维。如果纵向只取了一列，则返回值会自动简化为向量，而非数据框。若要避免降维，保留数据框结构，可以结合两种风格的选择器，也可以增加选项<code>drop = FALSE</code>（推荐，利于代码风格的统一）。</li>
</ol>
<div class="sourceCode" id="cb30"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a>df[<span class="dv">2</span><span class="sc">:</span><span class="dv">3</span>, <span class="dv">2</span>]</span>
<span id="cb30-2"><a href="#cb30-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] &quot;b&quot; &quot;c&quot;</span></span>
<span id="cb30-3"><a href="#cb30-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-4"><a href="#cb30-4" aria-hidden="true" tabindex="-1"></a>df[<span class="dv">2</span><span class="sc">:</span><span class="dv">3</span>, <span class="dv">2</span>, drop <span class="ot">=</span> <span class="cn">FALSE</span>]</span>
<span id="cb30-5"><a href="#cb30-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   lower</span></span>
<span id="cb30-6"><a href="#cb30-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 2     b</span></span>
<span id="cb30-7"><a href="#cb30-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 3     c</span></span>
<span id="cb30-8"><a href="#cb30-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-9"><a href="#cb30-9" aria-hidden="true" tabindex="-1"></a><span class="co"># 混合两种选择器</span></span>
<span id="cb30-10"><a href="#cb30-10" aria-hidden="true" tabindex="-1"></a>df[<span class="dv">2</span><span class="sc">:</span><span class="dv">3</span>, ][<span class="dv">2</span>]</span>
<span id="cb30-11"><a href="#cb30-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   lower</span></span>
<span id="cb30-12"><a href="#cb30-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 2     b</span></span>
<span id="cb30-13"><a href="#cb30-13" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 3     c</span></span></code></pre></div>
<ol start="3" style="list-style-type: decimal">
<li><code>subset(df, conditions, select)</code></li>
</ol>
<p><strong>函数而非操作符，便利 Pipeline 的连续操作</strong></p>
<p>第一个参数为数据集，第二个参数选择符合条件的行，第三个参数select选择列，可以在列名前加’-’删除之</p>
<div class="sourceCode" id="cb31"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a><span class="fu">subset</span>(leadership, age <span class="sc">&gt;=</span> <span class="dv">35</span> <span class="sc">|</span> age <span class="sc">&lt;</span> <span class="dv">24</span>, <span class="at">select =</span> <span class="fu">c</span>(q1, q2, q3, q4))</span></code></pre></div>
</div>
<div id="extract-1" class="section level3">
<h3>Extract</h3>
<ul>
<li><code>df$key</code></li>
<li><code>df[[index]]</code></li>
<li><code>df[[colname]]</code></li>
<li>矩阵风格选择器，选择一列</li>
</ul>
<div class="sourceCode" id="cb32"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a>df<span class="sc">$</span>lower</span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] &quot;a&quot; &quot;b&quot; &quot;c&quot; &quot;d&quot; &quot;e&quot;</span></span>
<span id="cb32-3"><a href="#cb32-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-4"><a href="#cb32-4" aria-hidden="true" tabindex="-1"></a>df[[<span class="dv">2</span>]]</span>
<span id="cb32-5"><a href="#cb32-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] &quot;a&quot; &quot;b&quot; &quot;c&quot; &quot;d&quot; &quot;e&quot;</span></span>
<span id="cb32-6"><a href="#cb32-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-7"><a href="#cb32-7" aria-hidden="true" tabindex="-1"></a>df[[<span class="st">&quot;lower&quot;</span>]]</span>
<span id="cb32-8"><a href="#cb32-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] &quot;a&quot; &quot;b&quot; &quot;c&quot; &quot;d&quot; &quot;e&quot;</span></span>
<span id="cb32-9"><a href="#cb32-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-10"><a href="#cb32-10" aria-hidden="true" tabindex="-1"></a>df[, <span class="dv">2</span>]</span>
<span id="cb32-11"><a href="#cb32-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] &quot;a&quot; &quot;b&quot; &quot;c&quot; &quot;d&quot; &quot;e&quot;</span></span></code></pre></div>
</div>
<div id="operation-3" class="section level3">
<h3>Operation</h3>
<p>对数据框的操作是 R 最核心的内容，故单独说明。</p>
</div>
</div>
<div id="tibble" class="section level2">
<h2>tibble</h2>
<p>数据框的替代类型。</p>
<p>在R Markdown里两者区别不大，但在console中，区别很明显的：</p>
<ul>
<li>列出了变量的类型</li>
<li>只列出10行</li>
<li>只列出有限的列数（与屏幕适应的）</li>
<li>高亮 <code>NAs</code></li>
</ul>
<div id="create-5" class="section level3">
<h3>Create</h3>
<p>tibble 有一个很突出的优点：创建时，写在后面的变量可以立即使用前面的变量</p>
<div class="sourceCode" id="cb33"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 这种写法如果用 data.table，会报错，表示不知道 b 定义式中的 a 是什么</span></span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a><span class="fu">tibble</span>(</span>
<span id="cb33-3"><a href="#cb33-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">a =</span> <span class="fu">runif</span>(<span class="dv">1000</span>, <span class="dv">0</span>, <span class="dv">5</span>),</span>
<span id="cb33-4"><a href="#cb33-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">b =</span> <span class="dv">4</span> <span class="sc">+</span> <span class="fu">rnorm</span>(<span class="dv">1000</span>, <span class="at">mean =</span> <span class="fl">3.2</span> <span class="sc">*</span> a, <span class="at">sd =</span> <span class="dv">1</span>)</span>
<span id="cb33-5"><a href="#cb33-5" aria-hidden="true" tabindex="-1"></a>) <span class="sc">%&gt;%</span> <span class="fu">head</span>()</span>
<span id="cb33-6"><a href="#cb33-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; # A tibble: 6 x 2</span></span>
<span id="cb33-7"><a href="#cb33-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;       a     b</span></span>
<span id="cb33-8"><a href="#cb33-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   &lt;dbl&gt; &lt;dbl&gt;</span></span>
<span id="cb33-9"><a href="#cb33-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1  1.00  8.46</span></span>
<span id="cb33-10"><a href="#cb33-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 2  4.31 19.0 </span></span>
<span id="cb33-11"><a href="#cb33-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 3  1.00  6.36</span></span>
<span id="cb33-12"><a href="#cb33-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 4  1.29  7.34</span></span>
<span id="cb33-13"><a href="#cb33-13" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 5  3.72 17.6 </span></span>
<span id="cb33-14"><a href="#cb33-14" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 6  4.15 15.3</span></span></code></pre></div>
<p>Create tibble 时，字符向量不会被自动转换为因子</p>
<div class="sourceCode" id="cb34"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a>df <span class="ot">&lt;-</span> <span class="fu">tibble</span>(<span class="at">id =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>, <span class="at">lower =</span> letters[<span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>])</span>
<span id="cb34-2"><a href="#cb34-2" aria-hidden="true" tabindex="-1"></a>df <span class="sc">%&gt;%</span> <span class="fu">class</span>()</span>
<span id="cb34-3"><a href="#cb34-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] &quot;tbl_df&quot;     &quot;tbl&quot;        &quot;data.frame&quot;</span></span></code></pre></div>
<p>数据量不大时，可以用<code>tribble()</code>创建</p>
<div class="sourceCode" id="cb35"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a>df <span class="ot">&lt;-</span> <span class="fu">tribble</span>(</span>
<span id="cb35-2"><a href="#cb35-2" aria-hidden="true" tabindex="-1"></a>  <span class="sc">~</span>x, <span class="sc">~</span>y, <span class="sc">~</span>z,</span>
<span id="cb35-3"><a href="#cb35-3" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;a&quot;</span>, <span class="dv">2</span>, <span class="fl">3.6</span>,</span>
<span id="cb35-4"><a href="#cb35-4" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;b&quot;</span>, <span class="dv">1</span>, <span class="fl">8.5</span></span>
<span id="cb35-5"><a href="#cb35-5" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div>
</div>
<div id="transfer" class="section level3">
<h3>Transfer</h3>
<p><code>as_tibble()</code></p>
</div>
<div id="subset-4" class="section level3">
<h3>Subset</h3>
<p>subset 时，即使选取单行或单列，结果也不会降维，仍然是 tibble</p>
</div>
<div id="operation-4" class="section level3">
<h3>Operation</h3>
<div class="sourceCode" id="cb36"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a><span class="fu">add_column</span>(df, <span class="at">w =</span> <span class="dv">0</span><span class="sc">:</span><span class="dv">1</span>) <span class="co"># 增加一列</span></span>
<span id="cb36-2"><a href="#cb36-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; # A tibble: 2 x 4</span></span>
<span id="cb36-3"><a href="#cb36-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   x         y     z     w</span></span>
<span id="cb36-4"><a href="#cb36-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   &lt;chr&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;int&gt;</span></span>
<span id="cb36-5"><a href="#cb36-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1 a         2   3.6     0</span></span>
<span id="cb36-6"><a href="#cb36-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 2 b         1   8.5     1</span></span>
<span id="cb36-7"><a href="#cb36-7" aria-hidden="true" tabindex="-1"></a><span class="fu">add_row</span>(df, <span class="at">x =</span> <span class="st">&quot;c&quot;</span>, <span class="at">y =</span> <span class="dv">9</span>, <span class="at">z =</span> <span class="fl">2.1</span>) <span class="co"># 增加一行</span></span>
<span id="cb36-8"><a href="#cb36-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; # A tibble: 3 x 3</span></span>
<span id="cb36-9"><a href="#cb36-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   x         y     z</span></span>
<span id="cb36-10"><a href="#cb36-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   &lt;chr&gt; &lt;dbl&gt; &lt;dbl&gt;</span></span>
<span id="cb36-11"><a href="#cb36-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1 a         2   3.6</span></span>
<span id="cb36-12"><a href="#cb36-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 2 b         1   8.5</span></span>
<span id="cb36-13"><a href="#cb36-13" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 3 c         9   2.1</span></span>
<span id="cb36-14"><a href="#cb36-14" aria-hidden="true" tabindex="-1"></a><span class="fu">add_row</span>(df, <span class="at">x =</span> <span class="st">&quot;c&quot;</span>, <span class="at">y =</span> <span class="dv">9</span>, <span class="at">z =</span> <span class="fl">2.1</span>, <span class="at">.before =</span> <span class="dv">2</span>) <span class="co"># 在第二行，增加一行</span></span>
<span id="cb36-15"><a href="#cb36-15" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; # A tibble: 3 x 3</span></span>
<span id="cb36-16"><a href="#cb36-16" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   x         y     z</span></span>
<span id="cb36-17"><a href="#cb36-17" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   &lt;chr&gt; &lt;dbl&gt; &lt;dbl&gt;</span></span>
<span id="cb36-18"><a href="#cb36-18" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1 a         2   3.6</span></span>
<span id="cb36-19"><a href="#cb36-19" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 2 c         9   2.1</span></span>
<span id="cb36-20"><a href="#cb36-20" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 3 b         1   8.5</span></span></code></pre></div>
<ol style="list-style-type: decimal">
<li><code>print(tibble, n = 10, width = Inf)</code>可以自定义打印的长度和宽度。默认只显示10行，避免输出太长.
<ol style="list-style-type: decimal">
<li>也可以用<code>options(tibble.print_max=n, tibble.print_min=m)</code>进行全局性设置：如果多于m行，则最多打印出n行。</li>
</ol></li>
<li>对于很大的数据表，也可以用<code>%&gt;% View()</code>或<code>%T&gt;% View()</code>查看</li>
<li>tibble 不支持行名。<code>tibble::rownames_to_column(df, var = "rowname")</code>可以将行名转化为一列，<code>tibble::rowid_to_column(df, var = "rowid")</code>将行 index 转化为一列。</li>
</ol>
</div>
</div>

<div id="rmd-source-code">LS0tDQp0aXRsZTogIue7hOWQiOWei+aVsOaNrue7k+aehCINCnN1YnRpdGxlOiAnVmVjdG9yLCBNYXRyaXgsIExpc3QgYW5kIERhdGFmcmFtZScNCmF1dGhvcjogIkh1bW9vbiINCmRhdGU6ICJgciBTeXMuRGF0ZSgpYCINCm91dHB1dDogaHRtbF9kb2N1bWVudA0KZG9jdW1lbnRjbGFzczogY3RleGFydA0KY2xhc3NvcHRpb246IGh5cGVycmVmLA0KLS0tDQoNCmBgYHtyIHNldHVwLCBpbmNsdWRlID0gRkFMU0V9DQpzb3VyY2UoIi4uL1JtYXJrZG93bi10ZW1wbGF0ZS9SbWFya2Rvd25fY29uZmlnLlIiKQ0KDQojIyBnbG9iYWwgb3B0aW9ucyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQ0Ka25pdHI6Om9wdHNfY2h1bmskc2V0KA0KICB3aWR0aCA9IGNvbmZpZyR3aWR0aCwNCiAgZmlnLndpZHRoID0gY29uZmlnJGZpZy53aWR0aCwNCiAgZmlnLmFzcCA9IGNvbmZpZyRmaWcuYXNwLA0KICBvdXQud2lkdGggPSBjb25maWckb3V0LndpZHRoLA0KICBmaWcuYWxpZ24gPSBjb25maWckZmlnLmFsaWduLA0KICBmaWcucGF0aCA9IGNvbmZpZyRmaWcucGF0aCwNCiAgZmlnLnNob3cgPSBjb25maWckZmlnLnNob3csDQogIHdhcm4gPSBjb25maWckd2FybiwNCiAgd2FybmluZyA9IGNvbmZpZyR3YXJuaW5nLA0KICBtZXNzYWdlID0gY29uZmlnJG1lc3NhZ2UsDQogIGVjaG8gPSBjb25maWckZWNobywNCiAgZXZhbCA9IGNvbmZpZyRldmFsLA0KICB0aWR5ID0gY29uZmlnJHRpZHksDQogIGNvbW1lbnQgPSBjb25maWckY29tbWVudCwNCiAgY29sbGFwc2UgPSBjb25maWckY29sbGFwc2UsDQogIGNhY2hlID0gY29uZmlnJGNhY2hlLA0KICBjYWNoZS5jb21tZW50cyA9IGNvbmZpZyRjYWNoZS5jb21tZW50cywNCiAgYXV0b2RlcCA9IGNvbmZpZyRhdXRvZGVwDQopDQoNCiMjIHVzZSBuZWNlc3NhcnkgcGFja2FnZXMgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09DQpsaWJyYXJ5KHRpZHl2ZXJzZSkNCmxpYnJhcnkoZGF0YS50YWJsZSkNCmxpYnJhcnkobWFncml0dHIpDQpsaWJyYXJ5KHBsb3RseSkNCmxpYnJhcnkoaHRtbHdpZGdldHMpDQpgYGANCg0KDQoNCiMjIOe7hOWQiOWei+aVsOaNrue7k+aehOeahOWIhuexuw0KDQoxLiDlkJHph4/jgIHnn6npmLXjgIHmlbDnu4Tpg73opoHmsYLljZXkuIDmlbDmja7nsbvlnosgKGhvbW9nZW5lb3VzIGRhdGEgdHlwZXMp44CC5qC55Z+65pivIGBjKClgIOWQkemHjw0KMi4g5YiX6KGo44CB5pWw5o2u5qGG5Y+v5Lul6KOF6L295LiN5ZCM5pWw5o2u57G75Z6LIChoZXRlcm9nZW5lb3VzIGRhdGEgdHlwZXMp44CC5qC55Z+65pivYCBsaXN0KClgIOWIl+ihqA0KICAgMS4g5YiX6KGo5o+Q6auY5LqG5a2Y5YKo55qE54G15rS75oCn77yM5L2G6ZmN5L2O5LqG5a2Y5YKo5pWI546H5ZKM6L+Q6KGM5pWI546H44CCDQogICAyLiDmlbDmja7moYbmmK/kuIDnp43nibnmrornmoTliJfooajjgIINCjMuIOS4jeWQjOexu+Wei+eahOaVsOaNrue7k+WQiOaIkOS4gOS4quWQkemHj+aXtu+8jOS8muiiq+W8uuWItui9rOaNouS4uuWFvOWuueeahOOAgeabtOeBtea0u+eahOaVsOaNruexu+Weiw0KICAgMS4g5LiA6Iis6aG65bqP5Li677yabG9naWNhbDxpbnRlZ2VyPG51bWVyaWM8Y29tcGxleDxjaGFyYWN0ZXI8bGlzdA0KNC4g6L+Z5Lik57G755qEIGNvbW1vbiDlsZ7mgKfvvJoNCiAgIDEuIOexu+Wei++8jHR5cGVvZigpDQogICAyLiDplb/luqbvvIxsZW5ndGgoKQ0KICAgMy4g5bGe5oCn77yMYXR0cmlidXRlcygp77yM6ZmE5Yqg55qE5Lu75oSPIG1ldGFkYXRhDQoNCg0KDQojIyBWZWN0b3INCg0KKirms6jmhI8qKg0KDQoxLiAgUuS4reaXoOagh+mHj++8jOagh+mHj+iiq+m7mOiupOS4uumVv+W6puS4ujHnmoTlkJHph4/vvIzmiYDku6XlnKjmjqfliLblj7DmmL7npLrkuIDkuKrmlbDml7bvvIzliY3pnaLku43kvJrmnInooajnpLrlkJHph4/nu7TluqbnmoQgYFsxXWANCjIuICBS5Lit55qE5Z+656GA6L+Q566X6YO95piv5ZCR6YeP5YyW55qE6L+Q566XDQozLiAgUuS4reeahOWQkemHj+m7mOiupOS4uuWIl+WQkemHj++8jOS4jeWtmOWcqOihjOWQkemHj+OAguWvueWIl+WQkemHj+i9rOe9ru+8jOW+l+WIsOeahOaYr+S4gOS4qiQxXHRpbWVzIG4k55qE55+p6Zi1DQoNCiMjIyDmlbDmja7nsbvlnosNCg0K55Sx5LqO5ZCR6YeP5pivIFIg5Lit5pyA5Z+65pys55qE5pWw5o2u57G75Z6L77yI5peg5qCH6YeP77yJ77yM5Zug5q2k5ZCR6YeP5qC55o2u5YWD57Sg55qE5pWw5o2u57G75Z6L6KKr5YiG5Li65Yeg56eN77yaDQoNCiMjIyMgbG9naWNhbA0KDQojIyMjIG51bWVyaWMNCg0K57uf56ew5pWw5YC85Z6LDQoNCi0g5pW05pWw77yMaW50ZWdlcg0KLSDlj4znsr7luqbmta7ngrnmlbDvvIxkb3VibGUNCg0K5LiJ56eN54m55q6K5oOF5Ya177yaDQoNCmBgYHtyfQ0KZXhwKDEwMDApICMgSW5mIOato+aXoOeptw0KLTEwIC8gMCAjIC1JbmYg6LSf5peg56m3DQpleHAoMTAwMCkgLyBleHAoOTkwKSAjIE5hTiwgbm90IGEgbnVtYmVyDQpgYGANCg0KMS4gUiDkuK3mlbDlrZfnmoTkuIrpmZDkuLogMS44KjEwXjM477yM6LaF6L+H6L+Z5Liq6KeE5qih5bCx5Lya5Ye6546wIEluZiANCjIuIOWPquimgeihqOi+vuW8j+S4reacieato+i0n+aXoOept+eahOWtkOmhueWHuueOsO+8jOe7k+aenOWwseW+iOWPr+iDveS4uiBJbmYsIC1JbmYsIE5hTg0KDQojIyMjIGNoYXJhY3Rvcg0KDQoNCiMjIyMgYE5VTExg5ZKMYE5BYA0KDQpOQe+8jOmVv+W6puS4ujHnmoTpgLvovpHlkJHph4/vvIzooajnpLrmlbDmja7nmoTnvLrlpLHlgLwNCg0KTlVMTO+8jOmbtumVv+WQkemHj++8jOS4gOiIrOihqOekuuWPguaVsOacquiiq+i1i+WAvO+8jOS7peWPiuWHveaVsOayoeacieaYjuehrui/lOWbnuWAvOaXtueahOi/lOWbng0KDQojIyMgQ3JlYXRlDQoNCiMjIyMgYGMoMiwgNCwgNilgDQoNCuWIm+W7uuWSjOaLvOaOpeWQkemHj++8jOWFtuS7luivreiogOS4gOiIrOeUqGBbXWANCg0K5ZCR6YeP5a6a5LmJ5pe25Y2z5L2/5bWM5aWX77yM5Lmf5Lya6KKr6Ieq5Yqo5bGV5byADQoNCiMjIyMgYG06bmANCg0K6L+e57ut5pW05pWw5ZCR6YePDQoNCiMjIyMgYHNlcV9sZW4obilgDQoNCuetieS7t+S6jmAxOm5g77yM5Yy65Yir5Zyo5LqOIG4g5b+F6aG75piv5q2j5pWw77yM6Iul5Li6IDAg5YiZ6L+U5Zue6ZW/5bqm5Li6IDAg55qE56m65ZCR6YeP44CCMTowIOWImeS8mui/lOWbnumAkuWHj+eahOmVv+W6puS4ujLnmoTluo/liJfjgIINCg0K5Zug5q2kYHNlcV9sZW4obilg6YCa5bi45pu056ym5ZCI5Luj56CB57yW5YaZ6ICF55qE5oSP5Zu+44CCDQoNCiMjIyMgYHNlcShmcm9tLCB0bywgYnk9MSwgbGVuZ3RoKWANCg0K562J5beu5pWw5YiX44CC5Zub5Liq5Y+C5pWw5pyJ5LiJ5Liq5Y2z5Y+v44CCYnnkuLrmraXplb/vvIxsZW5ndGjkuLrlkJHph49zaXplDQoNCiMjIyMgYHJlcCh4LCB0aW1lcywgZWFjaClgDQoNCuWFg+e0oOWkjeeUqO+8jOmHjeWkjeWvueixoXggdGltZXPmrKHjgIINCg0K6IuleOS4jnRpbWVz6YO95piv5ZCR6YeP5LiU6ZW/5bqm5LiA6Ie077yM5YiZ5Li65a+55bqU5YWD57Sg6YeN5aSN5a+55bqU5qyh5pWw44CCDQoNCiMjIyMgYG51bWVyaWMoTilgLCBgbG9naWNhbChOKWANCg0K55Sf5oiQ6ZW/5bqm5Li6IE4sIOavj+mhueS4uiAwIOeahOeJueWumuexu+Wei+WQkemHjw0KDQojIyMjIGB2ZWN0b3IoJ2RvdWJsZScsIE4pYA0KDQrnlJ/miJDplb/luqbkuLpO55qE54m55a6a57G75Z6L5ZCR6YePDQoNCmBgYHtyfQ0KcmVwKDE6MywgMikNCnJlcCgxOjMsIGVhY2ggPSAyKQ0KcmVwKDE6MywgcmVwKDIsIDEpKSAjIOWNs3JlcCgxOjMsIDIpDQpyZXAoMTozLCByZXAoMiwgMykpICMg5Y2zcmVwKDE6MywgYygyLCAyLCAyKSkNCnJlcCgxOjMsIGMoMiwgNCwgMSkpDQoNCnkgPC0gbnVtZXJpYyg2KQ0KeQ0KeiA8LSBsb2dpY2FsKDcpDQp6DQp3IDwtIGNoYXJhY3RlcigyKQ0Kdw0KdyA8LSBjKHcsICJhIikNCncNCmBgYA0KDQojIyMgVHlwZQ0KDQotICAgYGNsYXNzKClgIOafpeeci+exu+Weiw0KLSAgIGBpcy4qKClgIOWIpOaWreexu+Weiw0KLSAgIGBhcy4qKClgIOi9rOaNouexu+Weiw0KDQpgYGB7cn0NCmNsYXNzKDE6NSkNCg0KY2xhc3MoYyhULCBGLCBUKSkNCg0KaXMuY2hhcmFjdGVyKGMoImgiLCAiZSIsICJsIiwgImwiLCAibyIpKQ0KDQphcy5jaGFyYWN0ZXIoMTo1KQ0KYGBgDQoNCiMjIyBTaXplDQoNCmBsZW5ndGgoKWANCg0KYHNlcV9hbG9uZygpYA0KDQpgYGB7cn0NCmxlbmd0aCh3KQ0KYGBgDQoNCiMjIyBMYWJlbA0KDQotICAgYG5hbWVzKHgpYO+8jOi/lOWbnuagh+etvue7hOaIkOeahOWQkemHjw0KLSAgIGBuYW1lcyh4KSA8LSBjKC4uLilg77yM5qCH562+6LWL5YC8DQoNCiMjIyBTdWJzZXQNCg0KIyMjIyDpgInmi6nlmahgW11g5ZKM5o+Q5Y+W5ZmoYFtbXV1gDQoNCmBbXWDkuLrlrZDpm4bpgInmi6nlmajvvIzov5Tlm57nmoTmmK/ljp/mlbDmja7nmoTkuIDkuKrliIfniYfvvIzkuI3mlLnlj5jmlbDmja7nu5PmnoTvvIw9PeWwseWDjyBKUyDkuK3nmoQgYC5maWx0ZXIoKWA9Pe+8jOWNsyBSIOS4remcgOimgeaMieeFp+S4gOWumuadoeS7tuetm+mAieaVsOWIl+aXtu+8jOeUqGBbY29uZGl0aW9uXWDljbPlj68NCg0KYFtbXV1g5Li65YWD57Sg5o+Q5Y+W5Zmo77yM6L+U5Zue55qE5piv5Y6f5pWw5o2u5LiA5LiqKirplb/luqbkuLox55qE5YiH54mHKirkuK3oo4Xovb3nmoTlhoXlrrnvvIzlsLHlg48gSlMg5Lit55qEIGAuZmlsdGVyKClbXWANCg0K5a+55ZCR6YeP5pON5L2c77yMYFtdYOWSjGBbW11dYOayoeacieW3ruWIq++8jOmDvei/lOWbnuS4gOe7tOeahOWQkemHj+OAguS9huWvueabtOWkjeadgueahOaVsOaNruexu+Wei++8jOS6jOiAheeahOW3ruWIq+WwseW+iOaYjuaYvu+8mg0KDQpgYGB7cn0NCnN0cihpcmlzKSAjIOaVsOaNruahhg0KDQpzdHIoaXJpc1sxXSkgIyDlj6rlkKvkuIDkuKrlj5jph4/nmoTmlbDmja7moYYNCg0Kc3RyKGlyaXNbWzFdXSkgIyDlkJHph48NCmBgYA0KDQojIyMjIGBbXWDpgInlj5bnmoTkuInnp43mlrnlvI8NCg0KLSAgIGluZGV4IGB4WzRdOyB4Wy0yOjRdOyB4W2MoMSwgMyldYA0KLSAgIGNvbmRpdGlvbiBgeFt4ID09IDEwXTsgeFt4ICVpbiUgYygxLCAyLCA1KV1gDQotICAg5qCH562+IGB4WyJhcHBsZSJdYA0KDQpgYGB7cn0NCnggPC0gYygxLCAyLCAzLCA0LCA1LCA3KQ0KeFszOjVdICMgeOWQkemHj+S4reeahOesrDMtNeS4quWFg+e0oA0KeFstMl0gIyDpmaTkuobnrKzkuozkuKrku6XlpJbnmoTlhYPntKANCg0KeFtjKDEsIDQpXSA8LSBjKDksIDExKQ0KeCAjIGHkuK3nrKwx5Liq5ZKM56ysNOS4quWFg+e0oA0KDQp4W3ggJWluJSBjKDEsIDIsIDUpXQ0KYGBgDQoNCiMjIyBJbmRleA0KDQojIyMjIGB3aGljaCpgDQoNCi0gICBgd2hpY2go6YC76L6R6KGo6L6+5byPKWANCi0gICBgd2hpY2gubWluKClgDQotICAgYHdoaWNoLm1heCgpYA0KDQpgYGB7cn0NCngNCndoaWNoLm1heCh4KQ0Kd2hpY2gubWluKHgpDQp3aGljaCh4ID09IDIpDQp3aGljaCh4ID4gNCkNCmBgYA0KDQojIyMjIGAqbWF0Y2hgDQoNCi0gICBgbWF0Y2godmVjdG9yMSwgdmVjdG9yMilg6L+U5Zue56ys5LiA5Liq5ZCR6YeP5Lit5ZCE5YWD57Sg5Zyo56ys5LqM5Liq5ZCR6YeP5Lit55qE5L2N572u5bqP5YiX77yM5q+P5LiA5Liq6YO95LuO5aS05byA5aeL5Yy56YWN77yM5Y+q6KaB5Yy56YWN5Yiw5bCx57uT5p2f44CCDQoNCi0gICBgcG1hdGNoKHZlY3RvcjEsIHZlY3RvcjIpYO+8jOiLpeesrOS4gOS4quWQkemHj+S4reafkOWFg+e0oOWcqOesrOS6jOS4quWQkemHj+S4reWMuemFjeS4iuS6hu+8jOWImeiupOS4uuesrOS6jOS4quWQkemHj+S4reebuOW6lOWFg+e0oOW3suiiq+WNoOeUqO+8jOWGjeWMuemFjeesrOS4gOS4quWQkemHj+S4reeahOS4i+S4gOS4quWFg+e0oOaXtu+8jOi3s+i/h+esrOS6jOS4quWQkemHj+S4reabvuiiq+WMuemFjei/h+eahOWFg+e0oOOAgg0KDQpgYGB7cn0NCm1hdGNoKHJlcCgxLCAzKSwgcmVwKDEsIDUpKQ0KcG1hdGNoKHJlcCgxLCAzKSwgcmVwKDEsIDUpKQ0KYGBgDQoNCiMjIyBPcGVyYXRpb24NCg0KUiDlr7nlkJHph4/nmoTmk43kvZzpg73opoHlnKjljp/lkJHph4/nmoTmi7fotJ3kuIrov5vooYzvvIzkuI3mlLnlj5jljp/lkJHph4/vvIjlj6rmnInnm7TmjqXotYvlgLzog73mlLnlj5jljp/lkJHph4/vvInjgILlpb3lpITmmK/lronlhajvvIzlnY/lpITmmK/mhaLjgIINCg0KIyMjIyDlop7liKDmlLkNCg0KLSAgIGBhcHBlbmQoKWAg6L+U5Zue5o+S5YWl5YWD57Sg5ZCO55qE5ou36LSdLiA8c3BhbiBzdHlsZT0nY29sb3I6cmVkJz4qKuazqOaEj++8jFIg5Lit5LiA6Iis5LiN55u05o6l5L+u5pS55Y6f5a+56LGh77yM5omA5Lul5aaC5p6c6KaB5L+d55WZ6L+Z5Liq5pON5L2c77yM5LiA5a6a6KaB6K6w5b6X6LWL5YC857uZ5Y6f5Y+Y6YeP44CCKio8L3NwYW4+DQotICAgYFstaW5kZXhdYCDmjpLpmaTpgInpm4bmlbTkvZPotYvlgLwNCi0gICBgcmVwbGFjZSgpYCDmibnph4/mm7/mjaINCg0KYGBge3J9DQp4IDwtIGMoMSwgMiwgMywgNCwgNSwgNykNCnggPC0gcmVwbGFjZSh4LCBjKDMsIDQpLCBjKDUsIDUpKSAjIOabv+aNou+8muWwhnjlkJHph4/kuK3nrKwz5Liq5ZKM56ysNOS4quWFg+e0oOabv+aNouS4ujUNCngNCg0KYXBwZW5kKHgsIDEwMCwgYWZ0ZXIgPSAyKQ0KeA0KDQphIDwtIGMoMCwgMCwgMSwgMiwgMCwgMykgIyDliKDpmaQw6aG5DQpiIDwtIHdoaWNoKGEgPT0gMCkNCmINCmEgPC0gYVstYl0NCmENCmBgYA0KDQojIyMjIFNvcnQNCg0KLSAgIGByYW5rKClg6L+U5Zue5ZCR6YeP5Lit5ZCE5YWD57Sg55u45a+55aSn5bCP55qE5o6S5bqP77yI6buY6K6k5Y2H5bqP77yJDQotICAgYHNvcnQoKWDov5Tlm57mjpLluo/lkI7nmoTlkJHph48NCi0gICBgcmV2KClg6YCG5bqP5o6S5YiXDQoNCmBgYHtyfQ0KeA0KcmFuayh4KQ0KDQpzb3J0KHgsIGRlY3JlYXNpbmcgPSBGKSAjIOm7mOiupOWNh+W6j+aOkuW6jw0KeA0KDQpyZXYoeCkgIyDpgIbluo8NCngNCmBgYA0KDQojIyMjIOWOu+mHjeOAgeWBj+enu+OAgeW3ruWIhg0KDQotICAgYHVuaXF1ZSgpYCDljrvph40NCi0gICBgbGVhZCh4LCBuPTEpYCwgYGxhZyh4LCBuPTEpYCDlgY/np7vvvIzov5Tlm57kuIDkuKrluo/liJfnmoTpooblhYjluo/liJflkozmu57lkI7luo/liJcNCi0gICBgZGlmZih4LCBsYWc9MSlgIOW3ruWIhu+8jGxhZyDnlKjku6XmjIflrprmu57lkI7lh6DpobnjgILpu5jorqTnmoQgbGFnIOWAvOS4uiAxDQoNCmBgYHtyfQ0KdW5pcXVlKHgpDQp4DQoNCmxlYWQoeCwgMikNCngNCg0KZGlmZih4KQ0KeA0KYGBgDQoNCiMjIyBWZWN0b3JpemF0aW9uDQoNCioqUiDkuK3nmoTov5DnrpfnrKblkozlh73mlbDlpKnnhLbmlK/mjIHlkJHph4/ljJbov5DnrpfvvIzov5nmmK8gUiDnmoTkuIDlpKfnibnoibLjgIIqKg0KDQrlkJHph4/ljJbov5DnrpfvvIzljbPlr7nlupTlhYPntKDlkIzml7blubbooYzov5DnrpfjgILlpoLmnpzplb/luqbkuI3kuIDvvIzooajovr7lvI/kuK3nn63nmoTlkJHph4/lsIbkvJrooqvlvqrnjq/kvb/nlKjvvIzooajovr7lvI/nmoTlgLzlsIbmmK/kuIDkuKrlkozmnIDplb/nmoTlkJHph4/nrYnplb/nmoTlkJHph4/jgIINCg0KIyMjIyDnrpfmlbDov5DnrpcNCg0K5Zub5YiZ6L+Q566XKCstXCovKeOAgeW5gihcXinjgIHlj5bmlbQoJS8lKeOAgeWPluS9mSglJSkNCg0KYGBge3J9DQo1ICUlIGMoMSwgMiwgMywgNCwgNSkNCg0KeCA8LSAxOjUNCnkgPC0gMjo2DQp4ICogeQ0KDQojIOWQkemHj+WGheenr++8iOS7peS4i+WGmeazleetieS7t++8iQ0KMSAqIDIgKyAyICogMyArIDMgKiA0ICsgNCAqIDUgKyA1ICogNg0KY3Jvc3Nwcm9kKHgsIHkpDQp0KHgpICUqJSB5ICMgUiDkuK3lkJHph4/pu5jorqTkuLrliJflkJHph48NCg0KIyDlkJHph4/lpJbnp6/vvIjku6XkuIvlhpnms5XnrYnku7fvvIkNCnggJW8lIHkNCm91dGVyKHgsIHkpDQp0Y3Jvc3Nwcm9kKHgsIHkpDQp4ICUqJSB0KHkpDQpgYGANCg0KIyMjIyDpgLvovpHov5DnrpcNCg0KYGBge3J9DQp4IDwtIDE6Ng0KeCA8IDQNCmFsbCh4ID4gNSkgIyDkuIDkuKrlkJHph4/nmoTmiYDmnInlhYPntKDmmK/lkKbmu6HotrPmn5DmnaHku7YNCmFueSh4ID4gNSkgIyDkuIDkuKrlkJHph4/nmoTpg6jliIblhYPntKDmmK/lkKbmu6HotrPmn5DmnaHku7YNCg0KbWF0cml4KHgsIDIsIGJ5cm93ID0gVCkgPCA0DQpgYGANCg0KIyMjIyDpm4blkIjov5DnrpcNCg0KYGBge3J9DQppbnRlcnNlY3QoYygxLCAyLCAzLCAzLCAxMiwgNCwgMTIzLCAxMiksIGMoMSwgMiwgMykpICMg5LqkDQoNCnVuaW9uKGMoIueLl+eGiuS8miIsICLogZrmlbDmja7oi7HmiY0iKSwgYygi54uX54aK5LyaIiwgIuWKqeS6p+S4muaMr+WFtCIpKSAjIOW5tg0KDQpzZXRkaWZmKDEwOjIsIDU6MykgIyDlt64NCmBgYA0KDQojIyBNYXRyaXgNCg0KIyMjIENyZWF0ZQ0KDQojIyMjIOWQkemHj+i9rOWMluS4uuefqemYtQ0KDQoxLiAgYG1hdHJpeCh2ZWN0b3IsIG5yb3csIG5jb2wsIGJ5cm93ID0gRkFMU0UsIGRpbW5hbWVzID0gbGlzdCjooYzlkI3lkJHph48s5YiX5ZCN5ZCR6YePKSlgDQoNCum7mOiupCBieXJvdyA9IEZBTFNF77yM5LyY5YWI5oyJ5YiX5aGr5YWF55+p6Zi144CC5Y+v5Lul6K6+5Li6IFQg5oyJ6KGMDQoNCjIuICBgZGltKHZlY3Rvcik9Yyhucm93LG5jb2wpYA0KDQojIyMjIOS6p+eUn+WvueinkuefqemYtQ0KDQpgZGlhZyh2ZWN0b3IpYA0KDQpgZGlhZyhuKWAg55Sf5oiQIG4g6Zi25Y2V5L2N6Zi1DQoNCiMjIyMg55+p6Zi16L2s5YyW5Li65ZCR6YePDQoNCmBhcy52ZWN0b3IoKWAg5oyJ54Wn5LiA5YiX5LiA5YiX5Zyw6aG65bqP5bCG55+p6Zi15bGV5byA5Li65ZCR6YePDQoNCiMjIyBTaXplDQoNCmBucm93KEEpYDtgbmNvbChBKWANCg0KIyMjIExhYmVsDQoNCmByb3duYW1lcygpIFs8LV1gDQoNCmBjb2xuYW1lcygpIFs8LV1gDQoNCiMjIyBTdWJzZXQNCg0KYFvooYzpgInmi6nlmagsIOWIl+mAieaLqeWZqF1gIOavj+S4qumAieaLqeWZqOmDveWPr+S7peaYr2luZGV444CBY29uZGl0aW9uIOWSjCBuYW1lDQoNCuefqemYteeahGBbXWDpgInmi6nlmajkvJrov5Tlm57nu7TluqblsL3lj6/og73kvY7nmoTnu5PmnpzvvIzlm6DmraRgQVsyLCBdYOi/lOWbnueahOaYr+WQkemHj+iAjOmdniQxXHRpbWVzIG4k55qE55+p6Zi1DQoNCmBgYHtyfQ0KQSA8LSBtYXRyaXgoMToxNiwgNCkNCg0KQVsyLCBdICMgQeeahOesrDLooYwNCg0KQVssIC0yXSAjIEHmjpLpmaTnrKwy5YiXDQoNCkFbMywgMl0gIyBB55qE56ysM+ihjOesrDLliJcNCg0KQVszLCBjKDIsIDQpXSAjIEHnmoTnrKwz6KGM56ysMuWIl+WSjOesrDTliJcNCmBgYA0KDQrnn6npmLXmnKzotKjkuIrmmK/kuIDkuKrlkJHph4/vvIzmiYDku6XpgILnlKjlkJHph4/nmoTkuIDnu7TpgInmi6nlmagNCg0KYGBge3J9DQpBIDwtIG1hdHJpeCgxOjksIDMpDQpBW0EgPiAzXQ0KYGBgDQoNCiMjIyBJbmRleA0KDQpgcm93KEEpYCwgYGNvbChBKWAg6L+U5Zue5Lik5Liq55+p6Zi177yM5YWD57Sg5YiG5Yir5Li66KGM5YiX5LiL5qCH44CCDQoNCmBgYHtyfQ0KIyDmj5Dlj5bkuIvkuInop5Lnn6npmLXnrpfms5UNCkEgPC0gbWF0cml4KDE6MTYsIDQpDQpBDQoNCkFbcm93KEEpIDwgY29sKEEpXSA8LSAwDQpBDQpgYGANCg0KIyMjIE9wZXJhdGlvbg0KDQojIyMjIOi9rOe9rg0KDQpgdChBKWANCg0K5rOo77ya5ZCR6YeP5rKh5pyJ57u05bqm5qaC5b+177yM5ZCR6YeP5LiN5pivIGAxKm5gIOefqemYteOAguimgeeUqGB0KHgpYOWSjGB0KHQoeCkpYOaJjeiDveaKiuWQkemHj+i9rOWMluS4uiBgMSpuYCDlkowgYG4qMWAg55qE55+p6Zi144CCDQoNCmBgYHtyfQ0KeCA8LSAxOjYNCnQoeCkNCnQodCh4KSkNCmBgYA0KDQojIyMjIOefqemYteS5mOazlQ0KDQotICAgYEElKiVCYA0KICAgIC0gICDkuIDkuKrkvovlpJbvvJroi6UgQSDlkowgQiDlnYfkuLrliJflkJHph4/vvIzliJnov5Dnrpfml7boh6rliqjlr7kgQSDovaznva5bXui9rOe9rl3vvIzmiafooYwgYHQoQSklKiVCYC4g5LqL5a6e5LiK77yMYHQoQSklKiVCYOS5n+WPq+WQkemHjyBBIOS4juWQkemHjyBCIOeahOWGheenr+OAgg0KICAgIC0gICBgQSVvJUJgIOetieS7t+S6jiBgQSUqJXQoQilg77yM5Lmf5Y+r5ZCR6YePIEEg5LiO5ZCR6YePIEIg55qE5aSW56ev44CCDQotICAgYGNyb3NzcHJvZChBLEIpYCwgYHQoQSklKiVCYOeahOeugOWMluWGmeazlQ0KLSAgIGB0Y3Jvc3Nwcm9kKEEsQilgLCBgQSUqJXQoQilg55qE566A5YyW5YaZ5rOVDQoNCmBgYHtyfQ0KIyDnn6npmLXkuZjms5UNCm0xIDwtIG1hdHJpeCgxOjksIDMpDQptMSAlKiUgbTENCmBgYA0KDQpbXui9rOe9rl3vvJroi6XkuI3ovaznva7vvIzov5nkuKrov5DnrpfmoLnmnKzml6Dms5Xov5vooYzjgIINCg0KIyMjIyDlr7nop5LlhYPntKANCg0KYGRpYWcoQSlgIOi/lOWbnuWvueinkuWFg+e0oOe7hOaIkOeahOWQkemHjw0KDQojIyMjIOaxguefqemYteaWueeoi+eahOino++8m+axgumAhg0KDQotICAgYHNvbHZlKEEsQilgLCDov5Tlm55gQSUqJVg9QmDnmoTop6PjgIINCi0gICBgc29sdmUoQSlgLCDov5Tlm57nn6npmLVB55qE6YCG77yM5Y2zYFNvbHZlKEEsSSlgDQoNCiMjIyMg54m55b6B5YC85ZKM54m55b6B5ZCR6YePDQoNCmBBLmVpZ2VuIDwtIGVpZ2VuKEEsIHN5bW1ldHJpYz1UKWANCg0KIyMjIyDooYzliJflvI8NCg0KYGRldChBKWANCg0KIyMjIyDmj5Dlj5bkuIrjgIHkuIvkuInop5Lnn6npmLUNCg0KYGxvd2VyLnRyaShBLGRpYWc9VC9GKWDlkoxgdXBwZXIudHJpKEEsZGlhZz1UL0YpYO+8jOi/meS4pOS4quWHveaVsOi/lOWbnumAu+i+keefqemYtQ0KDQpgYGB7cn0NCkEgPC0gbWF0cml4KDE6MTYsIDQpDQpBDQpBW2xvd2VyLnRyaShBKV0gPC0gMA0KQQ0KYGBgDQoNCiMjIyMg5q2j5a6a55+p6Zi155qEQ2hvbGVza2V55YiG6KejDQoNCmBjaG9sKEEpYA0KDQrljbPov5Tlm57mu6HotrMkQT1Qe15UfVAk55qEUO+8jOWFtuS4rVDkuLrkuIrkuInop5Lnn6npmLUNCg0KIyMjIyDnn6npmLXlkIjlubYNCg0KYGBge3IsIGV2YWw9RkFMU0V9DQpyYmluZChBLCBCKQ0KY2JpbmQoQSwgQikNCmRwbHlyOjpiaW5kX3Jvd3MoQSwgQikNCmRwbHlyOjpiaW5kX2NvbHMoQSwgQikNCmBgYA0KDQojIyMjIOe7n+iuoeihjOOAgeWIlw0KDQotICAgYHJvd1N1bXMoKWANCi0gICBgcm93TWVhbnMoKWANCi0gICBgY29sU3VtcygpYA0KLSAgIGBjb2xNZWFucygpYA0KDQpgYGB7cn0NCkEgPC0gbWF0cml4KDE6MTYsIDQpDQpyb3dTdW1zKEEpDQpgYGANCg0KIyMgQXJyYXkNCg0K5byg6YeP77yM5oiW5pu06auY57u05bqm55qE5ZCR6YePDQoNCiMjIyBDcmVhdGUNCg0KYHo8LWFycmF5KHZlY3RvciwgZGltZW5zaW9ucywgZGltbmFtZXMgPSBsaXN0KHYxLCB2MiwgdjMsIC4uLikpYA0KDQojIyMgTGFiZWwNCg0KYGRpbW5hbWVzKCkgWzwtXWANCg0KYGBge3J9DQp6IDwtIGFycmF5KDE6MjQsIGRpbSA9IGMoMiwgMywgNCksIGRpbW5hbWVzID0gbGlzdChjKCJyMSIsICJyMiIpLCBjKCJjMSIsICJjMiIsICJjMyIpLCBjKCJwMSIsICJwMiIsICJwMyIsICJwNCIpKSkNCnoNCmRpbW5hbWVzKHopDQpgYGANCg0KIyMgTGlzdA0KDQrlub/kuYnlkJHph4/vvIzlpKfoh7Tnm7jlvZPkuo4gSlMg5Lit55qE5a+56LGh77yM5pys6LSo5LiK5piv5LiA57uEPHNwYW4gc3R5bGUgPSAnY29sb3I6IG9yYW5nZXJlZCc+KirmnInluo88L3NwYW4+6ZSu5YC85a+5KirnmoTpm4blkIjjgIINCg0K6YGN5Y6GbGlzdO+8jOWwseaYr+mBjeWOhuWug+eahOmUruWAvOWvueOAgg0KDQrngbXmtLvkvb/nlKggbGlzdCDmiY3og73miJDkuLogUiDnvJbnqIvpq5jmiYvjgIINCg0KIyMjIENyZWF0ZQ0KDQpgbGlzdChrZXkxID0gdmFsdWUxLCBrZXkyID0gdmFsdWUyLCAuLi4pYA0KDQrlj6/ku6XnroDlhpnkuLogYGxpc3QodmFsdWUxLCB2YWx1ZTIsIC4uLilg77yM5q2k5pe25L2/55So5LuOIDEg5byA5aeL55qE6Ieq54S25pWw5YiX5L2c5Li657y655yB55qEIGtleXMNCg0KIyMjIFR5cGUNCg0KLSAgIGBpcy5saXN0KClgIOWIpOaWrQ0KDQotICAgYGFzLmxpc3QoKWAg6L2s5o2iDQoNCi0gICBgdW5saXN0KClgIOWwhuWIl+ihqOW8uuWItui9rOaNouS4uuWQkemHjw0KDQogICAgLSAgIOaMieWIhumHj+mhuuW6j+S+neasoeaOkuWIl++8jOW8uuWItuS4jeWGjeW1jOWll++8gQ0KICAgIC0gICDoh6rliqjkv53or4HlkIzmoLfnmoTmlbDmja7nsbvlnovjgILmr5TlpoLvvIzlvLrliLbovazmjaLmt7flkIjkuobmlbDlgLzlkozmlofmnKznmoTliJfooajvvIzkvJrlvpfliLDlrZfnrKbkuLLlkJHph48NCg0KIyMjIExhYmVsDQoNCmBuYW1lcyhsaXN0KSBbPC1dYA0KDQojIyMgU3Vic2V0DQoNCuesrOS4gOenjeivreazle+8jOeUqGBbXWDnrKblj7fvvIzph4zpnaLlj6/ku6XmmK8gaW5kZXgvY29uZGl0aW9uL2tleQ0KDQrnrKzkuoznp43or63ms5XvvIznlKggXGBbXGAoKSAg5oiWIGBtYWdyaXR0cjo6ZXh0cmFjdCgpYOWHveaVsA0KDQpgYGB7cn0NCmwgPC0gbGlzdCgiYSIsIDIsIFRSVUUpDQpsWzFdDQpgW2AobCwgMSkNCm1hZ3JpdHRyOjpleHRyYWN0KGwsIDEpDQpgYGANCg0KIyMjIEV4dHJhY3QNCg0K56ys5LiA56eN6K+t5rOV77yM55SoYFtbXV1g56ym5Y+377yM6YeM6Z2i5Y+v5Lul5pivIGluZGV4L2NvbmRpdGlvbi9rZXkNCg0K56ys5LqM56eN6K+t5rOV77yM55SoYCRg56ym5Y+3K2tlee+8jGBsaXN0JGtleWDvvIzmmK9gbGlzdFtbJ2tleSddXWDnmoTnroDlhpkNCg0K56ys5LiJ56eN6K+t5rOV77yM55SoIFxgW1tcYCgpICDmiJYgYG1hZ3JpdHRyOjpleHRyYWN0MigpYOWHveaVsA0KDQpgYGB7cn0NCmxbWzFdXQ0KYFtbYChsLCAxKQ0KbWFncml0dHI6OmV4dHJhY3QyKGwsIDEpDQpgYGANCg0KIyMjIE9wZXJhdGlvbg0KDQojIyMjIOa3u+WKoOWFg+e0oA0KDQrnrKzkuIDnp43or63ms5XvvIznm7TmjqXotYvlgLzjgIINCg0K56ys5LqM56eN6K+t5rOV77yMYGFwcGVuZChsaXN0LCB2YWx1ZSwgYWZ0ZXIgPSBsZW5ndGgobGlzdCkpYO+8jOm7mOiupOWKoOWIsOWIl+ihqOeahOacq+WwvuOAguS9huiLpeaPkuWFpeeahOWFg+e0oOacrOi6q+aYr+S4gOS4quWIl+ihqO+8iOW+iOWkmuWvueixoeacrOi0qOS4iumDveaYr+S4gOS4quWIl+ihqO+8ie+8jOWImeS8mioq56C05Z2P5bGC57qn57uT5p6E77yM5bCG5omA5pyJ55qE5YWD57Sg5L6d5qyh5o+S5YWl5Yiw5YmN5LiA5Liq5YiX6KGoKirjgILmiYDku6Xoi6XopoHkv53lrZjliJfooajnmoTlsYLnuqfnu5PmnoTvvIzov5jmmK/nrKzkuIDnp43or63ms5Xmm7Tkv53pmanjgIINCg0KYGBge3J9DQpsW1s0XV0gPC0gZGF0YS50YWJsZSh4ID0gMSwgeSA9IDIpDQpsJHogPC0gYygib25lIiwgInR3byIsICJ0aHJlZSIpDQpsDQpsIDwtIGFwcGVuZChsLCA2KQ0KbA0KbCA8LSBhcHBlbmQobCwgbGlzdCg3LCA4KSkNCmwNCmxbWzldXSA8LSBsaXN0KDksIDEwKQ0KbA0KYGBgDQoNCua3u+WKoOWFg+e0oOeahOacgOS9s+WGmeazle+8jOaXoOmcgOefpemBkyBpbmRleA0KDQpgYGBSDQpsIDwtIGxpc3QoLi4uKQ0KbFtbbGVuZ3RoKGwpICsgMV1dIDwtIG5ld19lbGVtZW50DQpgYGANCg0KDQoNCiMjIyMg5Yig6Zmk5YWD57SgDQoNCui1i+WAvOS4uiBgTlVMTGAg5Y2z5Li65Yig6ZmkDQoNCiMjIERhdGEuRnJhbWUNCg0KZGF0YS5mcmFtZSDmmK/plb/luqbnm7jlkIznmoTliJflkJHph4/nu4TmiJDnmoQgTGlzdO+8iOWPr+S7peaMieeFp+i/meS4quaAnei3r+WOu+aehOW7uiBKUyDkuK3nmoTmlbDmja7moYbvvInjgIJSIOWOn+eUn+aUr+aMgeWQkemHj+WMluaTjeS9nO+8jOWboOatpCBSIOaTjeS9nOaVsOaNruahhuacieWFiOWkqeS8mOWKv+OAgg0KDQpkYXRhLmZyYW1lIOWPr+S7peWDj+efqemYteS4gOagt++8jOS7peS6jOe7tOihqOaWueW8j+WRiOeOsOOAguWboOatpO+8jCoqUiDkuK3mk43kvZznn6npmLXnmoTkuIDkupvlh73mlbDlhbzlrrnkuoYgZGF0YS5mcmFtZSDlr7nosaEqKu+8jOWNs+WPr+S7peWDj+aTjeS9nOefqemYteS4gOagt+aTjeS9nCBkYXRhLmZyYW1lDQoNCiMjIyBDcmVhdGUNCg0KYGRhdGEuZnJhbWUodmFyMSA9IGNvbDEsIHZhcjIgPSBjb2wyLCDigKYsIHJvdy5uYW1lcyA9ICwgY2hlY2submFtZXMgPSBULCBzdHJpbmdzQXNGYWN0b3JzID0gRilgDQoNCjEuIFIgNC4wIOS5i+WJje+8jOaehOW7ulLnmoTljp/nlJ/mlbDmja7moYbml7bvvIzlj4LmlbAgc3RyaW5nc0FzRmFjdG9ycyDnmoTpu5jorqTlgLzkuLogVFJVRe+8jOWtl+espuWQkemHj+m7mOiupOiiq+i9rOaNouaIkOWboOWtkO+8iOWboOWtkOeahCBsZXZlbCDnm7jmr5TlrZfnrKbkuLLoioLnnIHlgqjlrZjnqbrpl7TvvInvvIzmlbDmja7nsbvlnovlj5jkuLogbnVtZXJpY++8jOaXoOazleWGjeeUqOWtl+espuS4suWHveaVsOWkhOeQhuOAgjQuMCDlkI7mm7TmlLnkuobov5nkuIDpu5jorqTlgLzjgIINCg0KMi4gY2hlY2submFtZXMg6buY6K6k5Li6IFRSVUXvvIzlu7rnq4vmlbDmja7moYbml7bpu5jorqTkvb/nlKjlh73mlbAgYG1ha2UubmFtZXMoKWAg5qOA5p+l5Y+Y6YeP5ZCN77yM5bCGIFIg5LiN5YWB6K645Ye6546w5Zyo5Y+Y6YeP5ZCN5Lit55qE54m55q6K5a2X56ym6L2s5o2i5Li6YC5gDQogICAxLiDoi6XpgIkgRkFMU0XvvIzkvJrmnIDlpKfpmZDluqblnLDkv53nlZnljp/mnKznmoTliJflkI3jgILkvYborr/pl67ov5nkupvlnKggUiDkuK3mnKzkuLrpnZ7ms5XnmoTliJfml7bvvIzlv4XpobvnlKjlj43lvJXlj7flsIbliJflkI3mi6zotbfmnaXjgIINCg0KIyMjIFR5cGUNCg0KLSAgIGBhcy5kYXRhLmZyYW1lKClgIOWwhuefqemYteOAgeWIl+ihqOW8uuWItui9rOaNouS4uuaVsOaNruahhg0KDQogICAgLSAgIOWmguaenOefqemYteW3suacieihjOOAgeWIl+WQje+8jOS8muWcqOi9rOaNoui/h+eoi+S4reS/neeVmQ0KDQojIyMgTGFiZWwNCg0K6YCC55So5LqOIG1hdHJpeCDnmoRgcm93bmFtZXMoKWDlkoxgY29sbmFtZXMoKWDkuZ/pgILnlKjkuo7mlbDmja7moYbjgIINCg0KYGBge3J9DQphIDwtIGxpc3QoaWQgPSAxOjUsIGxvd2VyID0gbGV0dGVyc1sxOjVdLCB1cHBlciA9IExFVFRFUlNbMTo1XSkNCmNsYXNzKGEpDQoNCnJvd25hbWVzKGEpDQoNCmNvbG5hbWVzKGEpDQoNCmIgPC0gYXMuZGF0YS5mcmFtZShhKQ0KY2xhc3MoYikNCg0Kcm93bmFtZXMoYikNCg0KY29sbmFtZXMoYikNCmBgYA0KDQojIyMgU3Vic2V0DQoNCuaXouWPr+S7peeUqOWIl+ihqOmjjuagvOeahGBbXWDvvIzkuZ/lj6/ku6XnlKjnn6npmLXpo47moLznmoRgW3Jvd1NlbGVjdG9yLCBjb2x1bW5TZWxlY3Rvcl1gDQoNCjEuICDnn6npmLXpo47moLzpgInmi6nlmajnmoTlpb3lpITlnKjkuo7vvIzlj6/ku6XngbXmtLvlnLDnrZvpgInooYwNCg0KYGBge3J9DQpkZiA8LSBkYXRhLmZyYW1lKA0KICBpZCA9IDE6NSwNCiAgbG93ZXIgPSBsZXR0ZXJzWzE6NV0sDQogIHVwcGVyID0gTEVUVEVSU1sxOjVdDQopDQoNCiMg55+p6Zi16aOO5qC855qE6YCJ5oup5ZmoDQpkZltkZiRpZCA+IDMsIGMoMiwgMyldDQpgYGANCg0KMi4gIOeUqOefqemYtemjjuagvOeahOS6jOe7tOmAieaLqeWZqOaXtu+8jOi3n+efqemYteS4gOagt+S8muWwveWPr+iDvemZjee7tOOAguWmguaenOe6teWQkeWPquWPluS6huS4gOWIl++8jOWImei/lOWbnuWAvOS8muiHquWKqOeugOWMluS4uuWQkemHj++8jOiAjOmdnuaVsOaNruahhuOAguiLpeimgemBv+WFjemZjee7tO+8jOS/neeVmeaVsOaNruahhue7k+aehO+8jOWPr+S7pee7k+WQiOS4pOenjemjjuagvOeahOmAieaLqeWZqO+8jOS5n+WPr+S7peWinuWKoOmAiemhuWBkcm9wID0gRkFMU0Vg77yI5o6o6I2Q77yM5Yip5LqO5Luj56CB6aOO5qC855qE57uf5LiA77yJ44CCDQoNCmBgYHtyfQ0KZGZbMjozLCAyXQ0KDQpkZlsyOjMsIDIsIGRyb3AgPSBGQUxTRV0NCg0KIyDmt7flkIjkuKTnp43pgInmi6nlmagNCmRmWzI6MywgXVsyXQ0KYGBgDQoNCjMuICBgc3Vic2V0KGRmLCBjb25kaXRpb25zLCBzZWxlY3QpYA0KDQoqKuWHveaVsOiAjOmdnuaTjeS9nOespu+8jOS+v+WIqSBQaXBlbGluZSDnmoTov57nu63mk43kvZwqKg0KDQrnrKzkuIDkuKrlj4LmlbDkuLrmlbDmja7pm4bvvIznrKzkuozkuKrlj4LmlbDpgInmi6nnrKblkIjmnaHku7bnmoTooYzvvIznrKzkuInkuKrlj4LmlbBzZWxlY3TpgInmi6nliJfvvIzlj6/ku6XlnKjliJflkI3liY3liqAnLSfliKDpmaTkuYsNCg0KYGBge3IsIGV2YWw9RkFMU0V9DQpzdWJzZXQobGVhZGVyc2hpcCwgYWdlID49IDM1IHwgYWdlIDwgMjQsIHNlbGVjdCA9IGMocTEsIHEyLCBxMywgcTQpKQ0KYGBgDQoNCiMjIyBFeHRyYWN0DQoNCi0gICBgZGYka2V5YA0KLSAgIGBkZltbaW5kZXhdXWANCi0gICBgZGZbW2NvbG5hbWVdXWANCi0gICDnn6npmLXpo47moLzpgInmi6nlmajvvIzpgInmi6nkuIDliJcNCg0KYGBge3J9DQpkZiRsb3dlcg0KDQpkZltbMl1dDQoNCmRmW1sibG93ZXIiXV0NCg0KZGZbLCAyXQ0KYGBgDQoNCiMjIyBPcGVyYXRpb24NCg0K5a+55pWw5o2u5qGG55qE5pON5L2c5pivIFIg5pyA5qC45b+D55qE5YaF5a6577yM5pWF5Y2V54us6K+05piO44CCDQoNCiMjIHRpYmJsZQ0KDQrmlbDmja7moYbnmoTmm7/ku6PnsbvlnovjgIINCg0K5ZyoUiBNYXJrZG93bumHjOS4pOiAheWMuuWIq+S4jeWkp++8jOS9huWcqGNvbnNvbGXkuK3vvIzljLrliKvlvojmmI7mmL7nmoTvvJoNCg0KLSDliJflh7rkuoblj5jph4/nmoTnsbvlnosNCi0g5Y+q5YiX5Ye6MTDooYwNCi0g5Y+q5YiX5Ye65pyJ6ZmQ55qE5YiX5pWw77yI5LiO5bGP5bmV6YCC5bqU55qE77yJDQotIOmrmOS6riBgTkFzYA0KDQojIyMgQ3JlYXRlDQoNCnRpYmJsZSDmnInkuIDkuKrlvojnqoHlh7rnmoTkvJjngrnvvJrliJvlu7rml7bvvIzlhpnlnKjlkI7pnaLnmoTlj5jph4/lj6/ku6Xnq4vljbPkvb/nlKjliY3pnaLnmoTlj5jph48NCg0KYGBge3J9DQojIOi/meenjeWGmeazleWmguaenOeUqCBkYXRhLnRhYmxl77yM5Lya5oql6ZSZ77yM6KGo56S65LiN55+l6YGTIGIg5a6a5LmJ5byP5Lit55qEIGEg5piv5LuA5LmIDQp0aWJibGUoDQogIGEgPSBydW5pZigxMDAwLCAwLCA1KSwNCiAgYiA9IDQgKyBybm9ybSgxMDAwLCBtZWFuID0gMy4yICogYSwgc2QgPSAxKQ0KKSAlPiUgaGVhZCgpDQpgYGANCg0KQ3JlYXRlIHRpYmJsZSDml7bvvIzlrZfnrKblkJHph4/kuI3kvJrooqvoh6rliqjovazmjaLkuLrlm6DlrZANCg0KYGBge3J9DQpkZiA8LSB0aWJibGUoaWQgPSAxOjEwLCBsb3dlciA9IGxldHRlcnNbMToxMF0pDQpkZiAlPiUgY2xhc3MoKQ0KYGBgDQoNCuaVsOaNrumHj+S4jeWkp+aXtu+8jOWPr+S7peeUqGB0cmliYmxlKClg5Yib5bu6DQoNCmBgYHtyfQ0KZGYgPC0gdHJpYmJsZSgNCiAgfngsIH55LCB+eiwNCiAgImEiLCAyLCAzLjYsDQogICJiIiwgMSwgOC41DQopDQpgYGANCg0KIyMjIFRyYW5zZmVyDQoNCmBhc190aWJibGUoKWANCg0KIyMjIFN1YnNldA0KDQpzdWJzZXQg5pe277yM5Y2z5L2/6YCJ5Y+W5Y2V6KGM5oiW5Y2V5YiX77yM57uT5p6c5Lmf5LiN5Lya6ZmN57u077yM5LuN54S25pivIHRpYmJsZQ0KDQojIyMgT3BlcmF0aW9uDQoNCmBgYHtyfQ0KYWRkX2NvbHVtbihkZiwgdyA9IDA6MSkgIyDlop7liqDkuIDliJcNCmFkZF9yb3coZGYsIHggPSAiYyIsIHkgPSA5LCB6ID0gMi4xKSAjIOWinuWKoOS4gOihjA0KYWRkX3JvdyhkZiwgeCA9ICJjIiwgeSA9IDksIHogPSAyLjEsIC5iZWZvcmUgPSAyKSAjIOWcqOesrOS6jOihjO+8jOWinuWKoOS4gOihjA0KYGBgDQoNCjEuIGBwcmludCh0aWJibGUsIG4gPSAxMCwgd2lkdGggPSBJbmYpYOWPr+S7peiHquWumuS5ieaJk+WNsOeahOmVv+W6puWSjOWuveW6puOAgum7mOiupOWPquaYvuekujEw6KGM77yM6YG/5YWN6L6T5Ye65aSq6ZW/Lg0KICAgMS4g5Lmf5Y+v5Lul55SoYG9wdGlvbnModGliYmxlLnByaW50X21heD1uLCB0aWJibGUucHJpbnRfbWluPW0pYOi/m+ihjOWFqOWxgOaAp+iuvue9ru+8muWmguaenOWkmuS6jm3ooYzvvIzliJnmnIDlpJrmiZPljbDlh7pu6KGM44CCDQoyLiDlr7nkuo7lvojlpKfnmoTmlbDmja7ooajvvIzkuZ/lj6/ku6XnlKhgJT4lIFZpZXcoKWDmiJZgJVQ+JSBWaWV3KClg5p+l55yLDQozLiB0aWJibGUg5LiN5pSv5oyB6KGM5ZCN44CCYHRpYmJsZTo6cm93bmFtZXNfdG9fY29sdW1uKGRmLCB2YXIgPSAicm93bmFtZSIpYOWPr+S7peWwhuihjOWQjei9rOWMluS4uuS4gOWIl++8jGB0aWJibGU6OnJvd2lkX3RvX2NvbHVtbihkZiwgdmFyID0gInJvd2lkIilg5bCG6KGMIGluZGV4IOi9rOWMluS4uuS4gOWIl+OAgg0K</div>


</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.odd').parent('tbody').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open');
  });
});
</script>

<!-- code folding -->
<script>
$(document).ready(function () {
  window.initializeSourceEmbed("0202-Combined-Data-Structure.Rmd");
  window.initializeCodeFolding("show" === "show");
});
</script>

<script>
$(document).ready(function ()  {

    // temporarily add toc-ignore selector to headers for the consistency with Pandoc
    $('.unlisted.unnumbered').addClass('toc-ignore')

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1,h2,h3,h4",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_');
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = true;
    options.smoothScroll = true;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
